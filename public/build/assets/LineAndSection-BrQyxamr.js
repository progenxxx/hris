import{V as Fe,r as d,b as w,j as e,M as Be}from"./app-C_ClQmDY.js";import{A as Re}from"./AuthenticatedLayout-3cR_usYW.js";import{S as Ue}from"./Sidebar-Bhx-DaaE.js";import{B as q}from"./Button-Du7mhroA.js";import{l as ze}from"./lodash-DJVfGrwh.js";import{M as oe}from"./Modal-ClAHGT5r.js";import{C as We}from"./ConfirmModal-D_xoNxPu.js";import{P as Xe}from"./plus-D1sl-ovH.js";import{B as te}from"./building-DbcHZy7m.js";import{c as Ge}from"./createLucideIcon-D1ADp28Z.js";import{C as M}from"./circle-check-big-CRb1LywB.js";import{T as I}from"./triangle-alert-BvRbjIm5.js";import{S as se}from"./search-BDKFcNkb.js";import{E as ae}from"./eye-BzxMP9Yo.js";import{S as re}from"./square-pen-CSEKZsDO.js";import{T as ie,a as ne}from"./toggle-right-DIw-95Tx.js";import{T as le}from"./trash-2-D_IcoVGU.js";import{X as H}from"./x-Q1lJB2Tb.js";import{S as me}from"./save-BXp290R1.js";import{C as He}from"./check-D3tZ-Yap.js";import"./ApplicationLogo-BORf3137.js";import"./Dropdown-CHXQRgIL.js";import"./transition-0ACRCynB.js";/* empty css                */import"./users-Dr4YdQlV.js";import"./file-text-DMC5LN9m.js";import"./calendar-B28JSqfz.js";import"./clsx-B-dksMZM.js";import"./index-DsTYaH8m.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=Ge("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),Je=({message:v,type:m,onClose:S})=>{d.useEffect(()=>{const O=setTimeout(()=>{S()},3e3);return()=>clearTimeout(O)},[S]);const i=m==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",A=m==="success"?"text-green-700":"text-red-700",h=m==="success"?e.jsx(He,{className:"h-5 w-5 text-green-500"}):e.jsx(I,{className:"h-5 w-5 text-red-500"});return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-md border ${i}`,role:"alert",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",children:h}),e.jsx("div",{className:`ml-3 text-sm font-normal ${A}`,children:v}),e.jsx("button",{type:"button",className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${A} hover:bg-gray-100`,onClick:S,"aria-label":"Close",children:e.jsx(H,{className:"w-5 h-5"})})]})},de=({isActive:v})=>v?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("span",{className:"mr-1.5 h-2 w-2 bg-green-400 rounded-full"}),"Active"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx("span",{className:"mr-1.5 h-2 w-2 bg-yellow-400 rounded-full"}),"Inactive"]}),X=({isOpen:v,onClose:m,title:S,line:i,departments:A,onChange:h,onSubmit:O,mode:g="create",errorMessages:o={}})=>{const c=g==="view";return e.jsx(oe,{show:v,onClose:m,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:S}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line Code"}),e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.code?"border-red-500":""}`,value:i.code||"",onChange:l=>h({...i,code:l.target.value}),placeholder:"e.g. L001, L002",required:!0,disabled:c}),o.code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line Name"}),e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.name?"border-red-500":""}`,value:i.name||"",onChange:l=>h({...i,name:l.target.value}),placeholder:"e.g. Production Line 1",required:!0,disabled:c}),o.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.department_id?"border-red-500":""}`,value:i.department_id||"",onChange:l=>h({...i,department_id:l.target.value}),required:!0,disabled:c,children:[e.jsx("option",{value:"",children:"Select Department"}),A.filter(l=>l.is_active).map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),o.department_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.department_id})]}),!c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"active-status",className:"rounded text-blue-600 focus:ring-blue-500",checked:i.is_active,onChange:l=>h({...i,is_active:l.target.checked}),disabled:c}),e.jsx("label",{htmlFor:"active-status",className:"text-sm text-gray-700",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(q,{type:"button",variant:"outline",onClick:()=>m(!1),className:"mr-2",children:c?"Close":"Cancel"}),!c&&e.jsxs(q,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),g==="create"?"Save Line":"Update Line"]})]})]})]})})},G=({isOpen:v,onClose:m,title:S,section:i,lines:A,onChange:h,onSubmit:O,mode:g="create",errorMessages:o={}})=>{const c=g==="view";return e.jsx(oe,{show:v,onClose:m,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:S}),e.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Code"}),e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.code?"border-red-500":""}`,value:i.code||"",onChange:l=>h({...i,code:l.target.value}),placeholder:"e.g. S001, S002",required:!0,disabled:c}),o.code&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.code})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Section Name"}),e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.name?"border-red-500":""}`,value:i.name||"",onChange:l=>h({...i,name:l.target.value}),placeholder:"e.g. Assembly Section",required:!0,disabled:c}),o.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Line"}),e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${c?"bg-gray-100":""} ${o.line_id?"border-red-500":""}`,value:i.line_id||"",onChange:l=>h({...i,line_id:l.target.value}),required:!0,disabled:c,children:[e.jsx("option",{value:"",children:"Select Line"}),A.filter(l=>l.is_active).map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),o.line_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.line_id})]}),!c&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"active-status",className:"rounded text-blue-600 focus:ring-blue-500",checked:i.is_active,onChange:l=>h({...i,is_active:l.target.checked}),disabled:c}),e.jsx("label",{htmlFor:"active-status",className:"text-sm text-gray-700",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(q,{type:"button",variant:"outline",onClick:()=>m(!1),className:"mr-2",children:c?"Close":"Cancel"}),!c&&e.jsxs(q,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),g==="create"?"Save Section":"Update Section"]})]})]})]})})},Ct=()=>{const{auth:v}=Fe().props;v!=null&&v.user;const[m,S]=d.useState("lines"),[i,A]=d.useState([]),[h,O]=d.useState([]),[g,o]=d.useState([]),[c,l]=d.useState(!0),[V,J]=d.useState({visible:!1,message:"",type:"success"}),[x,E]=d.useState({name:"",code:"",department_id:"",is_active:!0}),[u,$]=d.useState({name:"",code:"",line_id:"",is_active:!0}),[xe,P]=d.useState(!1),[ue,F]=d.useState(!1),[he,K]=d.useState(!1),[pe,B]=d.useState(!1),[ge,R]=d.useState(!1),[fe,Q]=d.useState(!1),[Y,C]=d.useState({}),[Z,_]=d.useState({}),[j,D]=d.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),[L,U]=d.useState(""),[b,T]=d.useState("All"),[z,be]=d.useState([]),[W,ve]=d.useState([]),k=d.useCallback(async()=>{var t,a;l(!0);try{const[r,n,f]=await Promise.all([w.get("/lines"),w.get("/sections"),w.get("/departments")]);A(r.data.data||[]),O(n.data.data||[]),o(f.data.data||[])}catch(r){console.error("Error loading data:",r),p("Error loading data: "+(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.message)||r.message),"error")}finally{l(!1)}},[]);d.useEffect(()=>{k()},[k]);const je=i.length,ye=i.filter(t=>t.is_active).length,Ne=i.filter(t=>!t.is_active).length,we=h.length,Se=h.filter(t=>t.is_active).length,Ce=h.filter(t=>!t.is_active).length;d.useEffect(()=>{let t=[...i];if(b==="Active"?t=t.filter(a=>a.is_active):b==="Inactive"&&(t=t.filter(a=>!a.is_active)),L.trim()!==""){const a=L.toLowerCase();t=t.filter(r=>r.name.toLowerCase().includes(a)||r.code.toLowerCase().includes(a))}t=t.map(a=>{const r=g.find(n=>n.id===a.department_id);return{...a,department:r||null}}),be(t)},[i,g,b,L]),d.useEffect(()=>{let t=[...h];if(b==="Active"?t=t.filter(a=>a.is_active):b==="Inactive"&&(t=t.filter(a=>!a.is_active)),L.trim()!==""){const a=L.toLowerCase();t=t.filter(r=>r.name.toLowerCase().includes(a)||r.code.toLowerCase().includes(a))}t=t.map(a=>{const r=i.find(n=>n.id===a.line_id);return{...a,line:r||null}}),ve(t)},[h,i,b,L]);const p=(t,a="success")=>{J({visible:!0,message:t,type:a})},_e=()=>{E({name:"",code:"",department_id:"",is_active:!0}),C({}),P(!0)},Le=t=>{E({...t}),C({}),F(!0)},ke=t=>{E({...t}),K(!0)},Ae=async t=>{var r,n,f,y,N;if(t.preventDefault(),C({}),!x.name||!x.code||!x.department_id){const s={};x.name||(s.name="Line name is required"),x.code||(s.code="Line code is required"),x.department_id||(s.department_id="Department is required"),C(s);return}const a=g.find(s=>s.id===parseInt(x.department_id));if(!a||!a.is_active){C({department_id:"Please select an active department"});return}try{const s=await w.post("/lines",x);await k(),E({name:"",code:"",department_id:"",is_active:!0}),P(!1),p("Line created successfully")}catch(s){console.error("Error creating line:",s),((r=s.response)==null?void 0:r.status)===422&&((f=(n=s.response)==null?void 0:n.data)!=null&&f.errors)?C(s.response.data.errors):p(((N=(y=s.response)==null?void 0:y.data)==null?void 0:N.message)||"Error creating line","error")}},Ee=async t=>{var r,n,f,y,N;if(t.preventDefault(),C({}),!x.name||!x.code||!x.department_id){const s={};x.name||(s.name="Line name is required"),x.code||(s.code="Line code is required"),x.department_id||(s.department_id="Department is required"),C(s);return}const a=g.find(s=>s.id===parseInt(x.department_id));if(!a||!a.is_active){C({department_id:"Please select an active department"});return}try{const s=await w.put(`/lines/${x.id}`,x);await k(),E({name:"",code:"",department_id:"",is_active:!0}),F(!1),p("Line updated successfully")}catch(s){console.error("Error updating line:",s),((r=s.response)==null?void 0:r.status)===422&&((f=(n=s.response)==null?void 0:n.data)!=null&&f.errors)?C(s.response.data.errors):p(((N=(y=s.response)==null?void 0:y.data)==null?void 0:N.message)||"Error updating line","error")}},$e=t=>{D({isOpen:!0,title:"Delete Line",message:`Are you sure you want to delete the line "${t.name}"? This action cannot be undone.`,confirmText:"Delete",confirmVariant:"destructive",onConfirm:async()=>{var a,r;try{await w.delete(`/lines/${t.id}`),await k(),D({...j,isOpen:!1}),p("Line deleted successfully")}catch(n){console.error("Error deleting line:",n),D({...j,isOpen:!1}),p(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Error deleting line","error")}}})},Te=async t=>{var a,r;try{const n=await w.patch(`/lines/${t.id}/toggle-active`);await k(),p("Line status updated successfully")}catch(n){console.error("Error toggling line status:",n),p(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Error updating line status","error")}},Oe=()=>{$({name:"",code:"",line_id:"",is_active:!0}),_({}),B(!0)},De=t=>{$({...t}),_({}),R(!0)},Ie=t=>{$({...t}),Q(!0)},qe=async t=>{var r,n,f,y,N;if(t.preventDefault(),_({}),!u.name||!u.code||!u.line_id){const s={};u.name||(s.name="Section name is required"),u.code||(s.code="Section code is required"),u.line_id||(s.line_id="Line is required"),_(s);return}const a=i.find(s=>s.id===parseInt(u.line_id));if(!a||!a.is_active){_({line_id:"Please select an active line"});return}try{const s=await w.post("/sections",u);await k(),$({name:"",code:"",line_id:"",is_active:!0}),B(!1),p("Section created successfully")}catch(s){console.error("Error creating section:",s),((r=s.response)==null?void 0:r.status)===422&&((f=(n=s.response)==null?void 0:n.data)!=null&&f.errors)?_(s.response.data.errors):p(((N=(y=s.response)==null?void 0:y.data)==null?void 0:N.message)||"Error creating section","error")}},Ve=async t=>{var r,n,f,y,N;if(t.preventDefault(),_({}),!u.name||!u.code||!u.line_id){const s={};u.name||(s.name="Section name is required"),u.code||(s.code="Section code is required"),u.line_id||(s.line_id="Line is required"),_(s);return}const a=i.find(s=>s.id===parseInt(u.line_id));if(!a||!a.is_active){_({line_id:"Please select an active line"});return}try{const s=await w.put(`/sections/${u.id}`,u);await k(),$({name:"",code:"",line_id:"",is_active:!0}),R(!1),p("Section updated successfully")}catch(s){console.error("Error updating section:",s),((r=s.response)==null?void 0:r.status)===422&&((f=(n=s.response)==null?void 0:n.data)!=null&&f.errors)?_(s.response.data.errors):p(((N=(y=s.response)==null?void 0:y.data)==null?void 0:N.message)||"Error updating section","error")}},Me=t=>{D({isOpen:!0,title:"Delete Section",message:`Are you sure you want to delete the section "${t.name}"? This action cannot be undone.`,confirmText:"Delete",confirmVariant:"destructive",onConfirm:async()=>{var a,r;try{await w.delete(`/sections/${t.id}`),await k(),D({...j,isOpen:!1}),p("Section deleted successfully")}catch(n){console.error("Error deleting section:",n),D({...j,isOpen:!1}),p(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Error deleting section","error")}}})},Pe=async t=>{var a,r;try{const n=await w.patch(`/sections/${t.id}/toggle-active`);await k(),p("Section status updated successfully")}catch(n){console.error("Error toggling section status:",n),p(((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.message)||"Error updating section status","error")}},ee=ze.debounce(t=>{U(t)},300);return e.jsxs(Re,{children:[e.jsx(Be,{title:"Lines and Sections Management"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[e.jsx(Ue,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[V.visible&&e.jsx(Je,{message:V.message,type:V.type,onClose:()=>J({...V,visible:!1})}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:m==="lines"?"Line Management":"Section Management"}),e.jsxs("p",{className:"text-gray-600",children:["Create, edit, and organize ",m==="lines"?"production lines":"production sections","."]})]}),e.jsxs(q,{onClick:m==="lines"?_e:Oe,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center",children:[e.jsx(Xe,{className:"w-5 h-5 mr-2"}),"Add ",m==="lines"?"Line":"Section"]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsxs("button",{className:`px-4 py-3 text-sm font-medium text-center border-b-2 ${m==="lines"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>{S("lines"),T("All"),U("")},children:[e.jsx(te,{className:"w-4 h-4 inline-block mr-2"}),"Lines"]}),e.jsxs("button",{className:`px-4 py-3 text-sm font-medium text-center border-b-2 ${m==="sections"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>{S("sections"),T("All"),U("")},children:[e.jsx(ce,{className:"w-4 h-4 inline-block mr-2"}),"Sections"]})]})}),m==="lines"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Lines"}),e.jsx("p",{className:"text-3xl font-bold",children:je})]}),e.jsx("div",{className:"rounded-full p-3 bg-indigo-100",children:e.jsx(te,{className:"h-6 w-6 text-indigo-600"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Active Lines"}),e.jsx("p",{className:"text-3xl font-bold",children:ye})]}),e.jsx("div",{className:"rounded-full p-3 bg-green-100",children:e.jsx(M,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Inactive Lines"}),e.jsx("p",{className:"text-3xl font-bold",children:Ne})]}),e.jsx("div",{className:"rounded-full p-3 bg-yellow-100",children:e.jsx(I,{className:"h-6 w-6 text-yellow-600"})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx(se,{className:"w-4 h-4 text-gray-500"})}),e.jsx("input",{type:"search",className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Search lines...",onChange:t=>ee(t.target.value),defaultValue:L})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="All"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("All"),children:"All Lines"}),e.jsxs("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="Active"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("Active"),children:[e.jsx(M,{className:"w-4 h-4 inline-block mr-1.5 text-green-500"}),"Active"]}),e.jsxs("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="Inactive"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("Inactive"),children:[e.jsx(I,{className:"w-4 h-4 inline-block mr-1.5 text-yellow-500"}),"Inactive"]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-5 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"px-6 py-3",children:"Actions"}),e.jsx("div",{className:"px-6 py-3",children:"Status"}),e.jsx("div",{className:"px-6 py-3",children:"Code"}),e.jsx("div",{className:"px-6 py-3",children:"Name"}),e.jsx("div",{className:"px-6 py-3",children:"Department"})]}),c&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:"Loading..."}),!c&&z.length===0&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:L?"No lines found matching your search.":"No lines found. Add a line to get started."}),!c&&z.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:z.map(t=>{var a;return e.jsxs("div",{className:`grid grid-cols-5 items-center hover:bg-gray-50 ${t.is_active?"":"bg-yellow-50"}`,children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>ke(t),className:"text-gray-400 hover:text-gray-500",title:"View",type:"button",children:e.jsx(ae,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Le(t),className:"text-gray-400 hover:text-gray-500",title:"Edit",type:"button",children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Te(t),className:"text-gray-400 hover:text-gray-500",title:t.is_active?"Deactivate":"Activate",type:"button",children:t.is_active?e.jsx(ie,{className:"h-5 w-5 text-green-500"}):e.jsx(ne,{className:"h-5 w-5 text-gray-400"})}),e.jsx("button",{onClick:()=>$e(t),className:"text-gray-400 hover:text-red-500",title:"Delete",type:"button",children:e.jsx(le,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(de,{isActive:t.is_active})}),e.jsx("div",{className:"px-6 py-4 font-medium text-gray-900",children:t.code}),e.jsx("div",{className:"px-6 py-4 text-gray-900",children:t.name}),e.jsx("div",{className:"px-6 py-4 text-gray-500",children:((a=t.department)==null?void 0:a.name)||"No department assigned"})]},t.id)})})]})]}),m==="sections"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Total Sections"}),e.jsx("p",{className:"text-3xl font-bold",children:we})]}),e.jsx("div",{className:"rounded-full p-3 bg-indigo-100",children:e.jsx(ce,{className:"h-6 w-6 text-indigo-600"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Active Sections"}),e.jsx("p",{className:"text-3xl font-bold",children:Se})]}),e.jsx("div",{className:"rounded-full p-3 bg-green-100",children:e.jsx(M,{className:"h-6 w-6 text-green-600"})})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg p-5 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Inactive Sections"}),e.jsx("p",{className:"text-3xl font-bold",children:Ce})]}),e.jsx("div",{className:"rounded-full p-3 bg-yellow-100",children:e.jsx(I,{className:"h-6 w-6 text-yellow-600"})})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:e.jsx(se,{className:"w-4 h-4 text-gray-500"})}),e.jsx("input",{type:"search",className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500",placeholder:"Search sections...",onChange:t=>ee(t.target.value),defaultValue:L})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex border-b border-gray-200",children:[e.jsx("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="All"?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("All"),children:"All Sections"}),e.jsxs("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="Active"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("Active"),children:[e.jsx(M,{className:"w-4 h-4 inline-block mr-1.5 text-green-500"}),"Active"]}),e.jsxs("button",{className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${b==="Inactive"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,onClick:()=>T("Inactive"),children:[e.jsx(I,{className:"w-4 h-4 inline-block mr-1.5 text-yellow-500"}),"Inactive"]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-5 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"px-6 py-3",children:"Actions"}),e.jsx("div",{className:"px-6 py-3",children:"Status"}),e.jsx("div",{className:"px-6 py-3",children:"Code"}),e.jsx("div",{className:"px-6 py-3",children:"Name"}),e.jsx("div",{className:"px-6 py-3",children:"Line"})]}),c&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:"Loading..."}),!c&&W.length===0&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:L?"No sections found matching your search.":"No sections found. Add a section to get started."}),!c&&W.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:W.map(t=>{var a;return e.jsxs("div",{className:`grid grid-cols-5 items-center hover:bg-gray-50 ${t.is_active?"":"bg-yellow-50"}`,children:[e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>Ie(t),className:"text-gray-400 hover:text-gray-500",title:"View",type:"button",children:e.jsx(ae,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>De(t),className:"text-gray-400 hover:text-gray-500",title:"Edit",type:"button",children:e.jsx(re,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Pe(t),className:"text-gray-400 hover:text-gray-500",title:t.is_active?"Deactivate":"Activate",type:"button",children:t.is_active?e.jsx(ie,{className:"h-5 w-5 text-green-500"}):e.jsx(ne,{className:"h-5 w-5 text-gray-400"})}),e.jsx("button",{onClick:()=>Me(t),className:"text-gray-400 hover:text-red-500",title:"Delete",type:"button",children:e.jsx(le,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"px-6 py-4",children:e.jsx(de,{isActive:t.is_active})}),e.jsx("div",{className:"px-6 py-4 font-medium text-gray-900",children:t.code}),e.jsx("div",{className:"px-6 py-4 text-gray-900",children:t.name}),e.jsx("div",{className:"px-6 py-4 text-gray-500",children:((a=t.line)==null?void 0:a.name)||"No line assigned"})]},t.id)})})]})]})]})})]}),e.jsx(X,{isOpen:xe,onClose:()=>P(!1),title:"Add New Line",line:x,departments:g,onChange:E,onSubmit:Ae,mode:"create",errorMessages:Y}),e.jsx(X,{isOpen:ue,onClose:()=>F(!1),title:"Edit Line",line:x,departments:g,onChange:E,onSubmit:Ee,mode:"edit",errorMessages:Y}),e.jsx(X,{isOpen:he,onClose:()=>K(!1),title:"View Line Details",line:x,departments:g,onChange:E,onSubmit:()=>{},mode:"view"}),e.jsx(G,{isOpen:pe,onClose:()=>B(!1),title:"Add New Section",section:u,lines:i,onChange:$,onSubmit:qe,mode:"create",errorMessages:Z}),e.jsx(G,{isOpen:ge,onClose:()=>R(!1),title:"Edit Section",section:u,lines:i,onChange:$,onSubmit:Ve,mode:"edit",errorMessages:Z}),e.jsx(G,{isOpen:fe,onClose:()=>Q(!1),title:"View Section Details",section:u,lines:i,onChange:$,onSubmit:()=>{},mode:"view"}),e.jsx(We,{isOpen:j.isOpen,onClose:()=>D({...j,isOpen:!1}),title:j.title,message:j.message,confirmText:j.confirmText,confirmVariant:j.confirmVariant,onConfirm:j.onConfirm})]})};export{Ct as default};
