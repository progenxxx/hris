import{a as j,r as e,c as l,j as s,H as A}from"./app-D-TNKEQL.js";import{A as y}from"./AuthenticatedLayout-PCqsYVxf.js";import{S as C}from"./Sidebar-Cg7Kwp5t.js";import"./Button-SjHtsDzU.js";import{A as w,a as T}from"./alert-ttcl-5kV.js";import{l as v}from"./lodash-BVV6_chf.js";import{C as N}from"./ConfirmModal-CYPZTY1S.js";import"./checkbox-BprJyJpd.js";import"./ApplicationLogo-Cn-MbvX-.js";import"./Dropdown-BOoMuW7P.js";import"./transition-DeCEAfJ2.js";import"./search-DZDiwkir.js";import"./createLucideIcon-DEWnkTLV.js";import"./x-fQrOvEob.js";/* empty css                */import"./users-Cw0U-ZsC.js";import"./file-text-QjoOwKBJ.js";import"./calendar-DhTYrr3L.js";import"./clsx-B-dksMZM.js";const pe=()=>{const{auth:o}=j().props||{};o!=null&&o.user;const[E,M]=e.useState("roles"),[P,u]=e.useState([]),[V,f]=e.useState([]),[O,g]=e.useState([]),[U,c]=e.useState(!0),[i,x]=e.useState(""),[m,d]=e.useState(null),[a,h]=e.useState("default"),[$,k]=e.useState(null),[D,F]=e.useState({name:"",description:"",permissions:[]}),[H,I]=e.useState(!1),[L,_]=e.useState(null),[q,z]=e.useState(!1),[B,G]=e.useState(null),[t,R]=e.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),p=e.useCallback(async()=>{c(!0);try{const[r,n,b]=await Promise.all([l.get(`/api/roles?search=${i}`),l.get(`/api/users?search=${i}`),l.get("/api/permissions")]);u(r.data.data||[]),f(n.data.data||[]),g(b.data.data||[])}catch(r){console.error("Error loading data:",r),S("Error loading data","error")}finally{c(!1)}},[i]);e.useEffect(()=>{p()},[p]);const S=(r,n="default")=>{d(r),h(n),setTimeout(()=>d(null),3e3)};return e.useCallback(v.debounce(r=>{x(r)},300),[]),s.jsxs(y,{children:[s.jsx(A,{title:"Roles and Access Management"}),s.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[s.jsx(C,{}),s.jsx("div",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[m&&s.jsx(w,{className:`mb-4 ${a==="success"?"bg-green-50 border-green-200":a==="error"?"bg-red-50 border-red-200":""}`,children:s.jsx(T,{className:a==="success"?"text-green-700":a==="error"?"text-red-700":"",children:m})}),s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Roles and Access Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage user roles and permissions for system access."})]})})]})})]}),s.jsx(N,{isOpen:t.isOpen,onClose:()=>R({...t,isOpen:!1}),title:t.title,message:t.message,confirmText:t.confirmText,confirmVariant:t.confirmVariant,onConfirm:t.onConfirm})]})};export{pe as default};
