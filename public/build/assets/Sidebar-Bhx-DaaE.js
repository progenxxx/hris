import{V as R,r as h,j as e,U as j}from"./app-C_ClQmDY.js";/* empty css                */import{c as o}from"./createLucideIcon-D1ADp28Z.js";import{U as M}from"./users-Dr4YdQlV.js";import{F as E}from"./file-text-DMC5LN9m.js";import{C as S}from"./calendar-B28JSqfz.js";import{S as L}from"./AuthenticatedLayout-3cR_usYW.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=o("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=o("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=o("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=o("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=o("FileChartColumnIncreasing",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=o("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=o("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=o("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=o("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=o("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),P=({icon:c,label:a,items:l,path:g,isCollapsed:n,showLabels:x,isLive:p,openMenus:u,setOpenMenus:y})=>{const i=u[a]||!1,[v,m]=h.useState(!1),b=r=>{r.preventDefault(),r.stopPropagation(),n||y(s=>{const t={};return t[a]=!s[a],t})},d=r=>r&&(r.startsWith("http://")||r.startsWith("https://")),k=r=>{r.stopPropagation()};return g?d(g)&&p?e.jsx("a",{href:g,className:"block mb-1 group relative",target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:`flex items-center px-4 py-2.5 text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-all duration-200 menu-item ${p?"bg-red-50 text-red-600":""}`,children:[c&&e.jsx(c,{className:`w-5 h-5 mr-3 ${p?"text-red-600 animate-pulse":""}`}),!n&&x&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`flex-1 font-medium ${p?"text-red-600":""}`,children:a}),p&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs font-bold bg-red-600 text-white rounded-full animate-pulse",children:"LIVE"})]}),n&&p&&e.jsx("div",{className:"absolute left-full ml-2 top-1/2 transform -translate-y-1/2 flex items-center bg-red-600 text-white px-2 py-1 rounded text-xs font-bold whitespace-nowrap z-50 animate-pulse",children:"LIVE"})]})}):e.jsx(j,{href:g,className:"block mb-1 group",children:e.jsxs("div",{className:"flex items-center px-4 py-2.5 text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-all duration-200 menu-item",children:[c&&e.jsx(c,{className:"w-5 h-5 mr-3"}),!n&&x&&e.jsx("span",{className:"flex-1 font-medium",children:a})]})}):e.jsxs("div",{className:"mb-1 relative",onMouseEnter:()=>n&&m(!0),onMouseLeave:()=>n&&m(!1),children:[e.jsxs("div",{className:`flex items-center px-4 py-2.5 text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg cursor-pointer transition-all duration-200 menu-item ${i?"bg-indigo-50 text-indigo-600":""}`,onClick:b,children:[c&&e.jsx(c,{className:"w-5 h-5 mr-3"}),!n&&x&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex-1 font-medium",children:a}),e.jsx(N,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-90":""}`})]})]}),n&&v&&l&&e.jsxs("div",{className:"absolute left-full top-0 ml-2 bg-white shadow-lg rounded-lg py-2 z-50 min-w-48 border border-gray-100",children:[e.jsx("div",{className:"px-4 py-2 text-sm font-medium text-gray-800 border-b border-gray-100 mb-1",children:a}),l.map((r,s)=>d(r.path)?e.jsx("a",{href:r.path,className:"block px-4 py-2 text-sm text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all duration-200",target:"_blank",rel:"noopener noreferrer",onClick:()=>{m(!1)},children:r.label},s):e.jsx(j,{href:r.path,className:"block px-4 py-2 text-sm text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 transition-all duration-200",onClick:()=>{m(!1)},children:r.label},s))]}),i&&!n&&l&&e.jsx("div",{className:"ml-6 mt-1 space-y-1",children:l.map((r,s)=>d(r.path)?e.jsx("a",{href:r.path,className:"block px-4 py-2 text-sm text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-all duration-200",target:"_blank",rel:"noopener noreferrer",onClick:k,children:r.label},s):e.jsx(j,{href:r.path,className:"block px-4 py-2 text-sm text-gray-600 hover:bg-indigo-50 hover:text-indigo-600 rounded-lg transition-all duration-200",onClick:k,children:r.label},s))})]})},J=({showSidebar:c=!0})=>{const{auth:a}=R().props,[l,g]=h.useState(!1),[n,x]=h.useState(!0),[p,u]=h.useState("No Role Assigned"),[y,i]=h.useState([]),[v,m]=h.useState({}),b=h.useRef(null);h.useEffect(()=>{var s;console.log("Auth data:",a),console.log("User object:",a==null?void 0:a.user),console.log("Roles array:",(s=a==null?void 0:a.user)==null?void 0:s.roles),a!=null&&a.user&&(Array.isArray(a.user.roles)&&a.user.roles.length>0?(i(a.user.roles),u(a.user.roles.map(t=>t.name).join(", "))):a.user.role_slug?(i([{name:a.user.role_slug,slug:a.user.role_slug}]),u(a.user.role_slug.replace("_"," ").replace(/\b\w/g,t=>t.toUpperCase()))):fetch(`/api/user/${a.user.id}/roles`).then(t=>t.json()).then(t=>{t.roles&&t.roles.length>0?(i(t.roles),u(t.roles.map(f=>f.name).join(", "))):(u("No Role Assigned"),i([]))}).catch(t=>{console.error("Error fetching user roles:",t),i([{name:"superadmin",slug:"superadmin"}]),u("Super Admin")}))},[a]),h.useEffect(()=>{const s=t=>{b.current&&!b.current.contains(t.target)&&m({})};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const d=s=>y.length?s.some(t=>y.some(f=>{var w,C;return((w=f.name)==null?void 0:w.toLowerCase())===t.toLowerCase()||((C=f.slug)==null?void 0:C.toLowerCase())===t.toLowerCase()})):!0,r=[{icon:U,label:"Dashboard",path:d(["superadmin"])?route("superadmin.dashboard"):d(["hrd_manager"])?route("hrd_manager.dashboard"):d(["department_manager"])?route("department_manager.dashboard"):d(["finance"])?route("finance.dashboard"):route("employee.dashboard"),allowedRoles:["superadmin","hrd_manager","department_manager","finance","employee"]},{icon:M,label:"Employees",allowedRoles:["superadmin","finance","hrd_manager"],items:[{label:"Employee List",path:route("employees.index")},{label:"Import Employees",path:route("employees.import")}]},{icon:q,label:"Timesheets",allowedRoles:["superadmin","hrd_manager"],items:[{label:"DTR",path:"/payroll-summaries-page"},{label:"Process Attendance",path:"/attendance"},{label:"Manual Entry",path:"/timesheet/manual-entry"},{label:"Biometrics",path:"/biometric-devices"},{label:"Import Attendance",path:"/attendance/import"},{label:"Employee Schedule",path:"/employee-scheduling"}]},{icon:$,label:"Payroll",allowedRoles:["superadmin","finance"],items:[{label:"Final Payroll",path:"/final-payrolls"},{label:"Payroll Summary",path:"/comprehensive-payroll-summaries"},{label:"Benefits",path:"/benefits"},{label:"Deductions",path:"/deductions"}]},{icon:E,label:"File",allowedRoles:["superadmin","hrd_manager"],items:[{label:"Overtime",path:"/overtimes"},{label:"Offset",path:"/offsets"},{label:"Change Restday",path:"/change-off-schedules"},{label:"Cancel Restday",path:"/cancel-rest-days"},{label:"Change Time Sched",path:"/time-schedules"},{label:"SLVL",path:"/slvl"},{label:"Travel Order",path:"/travel-orders"},{label:"Retro",path:"/retro"}]},{icon:_,label:"Manage",allowedRoles:["superadmin","hrd"],items:[{label:"Line & Section",path:"/manage/line-section"},{label:"Departments",path:"/manage/departments"},{label:"Roles And Access",path:"/manage/roles"}]},{icon:z,label:"Core HR",allowedRoles:["superadmin","hrd"],items:[{label:"Promotion",path:"/core-hr/promotion"},{label:"Award",path:"/core-hr/award"},{label:"Travel",path:"/core-hr/travel"},{label:"Transfer",path:"/core-hr/transfer"},{label:"Resignations",path:"/core-hr/resignations"},{label:"Complaints",path:"/core-hr/complaints"},{label:"Warnings",path:"/core-hr/warnings"},{label:"Terminations",path:"/core-hr/terminations"}]},{icon:S,label:"HR Calendar",allowedRoles:["superadmin","hrd"],path:"/hr-calendar"},{icon:H,label:"HR Reports",allowedRoles:["superadmin","hrd"],items:[{label:"Daily Attendances",path:"/reports/daily-attendance"},{label:"Monthly Attendance",path:"/reports/monthly-attendance"},{label:"Training Report",path:"/reports/training"}]},{icon:D,label:"Training",allowedRoles:["superadmin","hrd"],items:[{label:"Training Lists",path:"/training/lists"},{label:"Training Type",path:"/training/types"},{label:"Trainers",path:"/training/trainers"}]},{icon:T,label:"Events & Meetings",allowedRoles:["superadmin","hrd"],items:[{label:"Events",path:"/events"},{label:"Meetings",path:"/meetings"}]},{icon:L,label:"Settings",allowedRoles:["superadmin"],path:"/settings"},{icon:V,label:"LIVE SYSTEM",path:"http://26.126.108.183:8888",allowedRoles:["superadmin","hrd_manager","department_manager","finance","employee"],isLive:!0}];return e.jsx("aside",{ref:b,className:`fixed top-0 left-0 z-50 h-screen transition-all duration-300 ease-in-out shadow-md ${c?"":"hidden"}`,"aria-label":"Sidebar",children:e.jsxs("div",{className:`h-full bg-white border-r border-gray-200 flex flex-col transition-all duration-300 ease-in-out relative overflow-hidden ${l?"w-20":"w-64"}`,children:[e.jsx("div",{className:"smoke-animation"}),e.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-200 relative z-10",children:[!l&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 tracking-tight",children:"Dashboard"}),e.jsx("p",{className:"text-sm text-gray-500",children:p})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!l&&e.jsx("button",{onClick:()=>x(!n),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200","aria-label":n?"Hide labels":"Show labels",title:n?"Hide labels":"Show labels"}),e.jsx("button",{onClick:()=>{g(!l),l||m({})},className:`p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200 relative z-20 ${l?"mx-auto":""}`,"aria-label":l?"Expand sidebar":"Collapse sidebar",title:l?"Expand sidebar":"Collapse sidebar",children:l?e.jsx(N,{className:"w-5 h-5 text-gray-600"}):e.jsx(A,{className:"w-5 h-5 text-gray-600"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent",children:e.jsx("nav",{className:"mt-4 px-2",children:r.filter(s=>d(s.allowedRoles)).map((s,t)=>e.jsx(P,{icon:s.icon,label:s.label,items:s.items,path:s.path,isCollapsed:l,showLabels:n,isLive:s.isLive,openMenus:v,setOpenMenus:m},t))})}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:!l&&"© 2025 Company Name"})})]})})};export{q as C,J as S,N as a};
