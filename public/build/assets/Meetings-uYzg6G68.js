import{a as le,r as m,c as H,j as e,H as ie,R as W,b as $}from"./app-7K62fd2B.js";import{A as oe}from"./AuthenticatedLayout-DQzQmHv9.js";import{S as de}from"./Sidebar-Bpho9Ubl.js";import{S as d}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{A as ce,a as me}from"./alert-Cw6Swk3l.js";import{B as N}from"./Button-B-ixrUdq.js";import"./card-Bd2He_oM.js";import{M as G}from"./Modal-Cmmxf1Wx.js";import{C as ue}from"./ConfirmModal-C6XdrbgL.js";import{C as Y}from"./calendar-plus-Cj-IgOd1.js";import{C as O}from"./calendar-CWo9dUpk.js";import{C as xe}from"./clock-r6FcyLKi.js";import{C as I}from"./circle-check-big-CdHds-fH.js";import{C as q}from"./circle-x-2rCUmP_B.js";import{S as pe}from"./search-BmV-knWW.js";import{T as X}from"./triangle-alert-BFKAbd31.js";import{E as he}from"./eye-j6hlzOf-.js";import{P as ge}from"./pen-C-dN-XrP.js";import{T as fe}from"./trash-2-CLTfogtc.js";import{c as je}from"./createLucideIcon-BK5csKvN.js";import{M as we}from"./map-pin-BbSYCDVv.js";import{U as be}from"./user-BKBpk05w.js";import{U as ye}from"./users-D-OfZtV9.js";import"./ApplicationLogo-IpRttWhS.js";import"./Dropdown-Yo6Rw43S.js";import"./transition-Di9UDWSH.js";import"./x-4sBMcqny.js";/* empty css                */import"./file-text-B0cEX_Vi.js";import"./clsx-B-dksMZM.js";import"./index-DnL5dnpl.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=je("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),ve=({children:u,defaultValue:a,className:s="",onValueChange:p})=>{const[n,b]=m.useState(a);return m.useEffect(()=>{p&&p(n)},[n,p]),e.jsx("div",{className:s,children:W.Children.map(u,i=>i&&(i.type===ae||i.type===Ne)?W.cloneElement(i,{activeTab:n,setActiveTab:b}):i)})},ae=({children:u,activeTab:a,setActiveTab:s,className:p=""})=>e.jsx("div",{className:`grid grid-cols-5 w-full ${p}`,children:W.Children.map(u,n=>n&&n.type===F?W.cloneElement(n,{activeTab:a,setActiveTab:s}):n)}),F=({children:u,value:a,activeTab:s,setActiveTab:p})=>{const n=s===a;return e.jsx("button",{onClick:()=>p(a),className:`flex-1 py-3 text-sm font-medium text-center border-b-2 ${n?a==="all"?"border-indigo-500 text-indigo-600":a==="Scheduled"?"border-green-500 text-green-600":a==="Completed"?"border-blue-500 text-blue-600":a==="Cancelled"?"border-red-500 text-red-600":a==="Postponed"?"border-yellow-500 text-yellow-600":"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:u})},Ne=({children:u,value:a,activeTab:s})=>s!==a?null:e.jsx("div",{className:"mt-2",children:u}),U=({title:u,count:a,icon:s,bgColor:p="bg-white",textColor:n="text-gray-600"})=>e.jsxs("div",{className:`${p} shadow rounded-lg p-5 flex items-center justify-between`,children:[e.jsxs("div",{children:[e.jsx("p",{className:`text-sm ${n} font-medium`,children:u}),e.jsx("p",{className:"text-3xl font-bold",children:a})]}),e.jsx("div",{className:"rounded-full p-3",children:s})]}),Ce=({isOpen:u,onClose:a,meeting:s})=>{if(!u||!s)return null;const p=n=>new Date(n).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs(G,{show:u,onClose:a,title:"Meeting Details",children:[e.jsx("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:[p(s.start_time)," - ",p(s.end_time)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:s.location||"No location specified"})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(be,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Organizer: ",s.organizer]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[e.jsx(ye,{className:"h-4 w-4 mr-2"}),e.jsxs("span",{children:["Department: ",s.department||"All Departments"]})]}),e.jsxs("div",{className:"mb-4",children:[(()=>{switch(s.status){case"Scheduled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"Completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Completed"]});case"Cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Cancelled"]});case"Postponed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Postponed"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:s.status})}})(),s.is_recurring&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 ml-2",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Recurring"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Agenda"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.agenda||"No agenda provided."})]}),s.is_recurring&&s.recurrence_pattern&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Recurrence Pattern"}),e.jsx("p",{className:"text-gray-700",children:s.recurrence_pattern})]}),s.meeting_link&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Meeting Link"}),e.jsxs("a",{href:s.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Join Meeting"]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2",children:["Participants (",s.participants_count||0,")"]}),s.participants&&s.participants.length>0?e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.participants.map(n=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`${n.Lname}, ${n.Fname}`}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.Department||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                                        ${n.pivot.attendance_status==="Attended"?"bg-green-100 text-green-800":n.pivot.attendance_status==="Absent"?"bg-red-100 text-red-800":n.pivot.attendance_status==="Confirmed"?"bg-blue-100 text-blue-800":n.pivot.attendance_status==="Declined"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:n.pivot.attendance_status})})]},n.id))})]})}):e.jsx("p",{className:"text-gray-500",children:"No participants added to this meeting."})]})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg",children:e.jsx(N,{onClick:a,className:"w-full sm:w-auto",children:"Close"})})]})},ke=({isOpen:u,onClose:a,meeting:s=null,mode:p="create"})=>{const[n,b]=m.useState({title:"",agenda:"",start_time:"",end_time:"",location:"",organizer:"",department:"",status:"Scheduled",is_recurring:!1,recurrence_pattern:"",meeting_link:"",participants:[]}),[i,S]=m.useState({}),[f,h]=m.useState([]),[y,l]=m.useState([]),[v,k]=m.useState(""),[_,R]=m.useState(!1),[B,J]=m.useState(""),[D,L]=m.useState([]),[z,C]=m.useState([]);m.useEffect(()=>{u&&(R(!0),H.get("/employees",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(t=>{if(console.log("Employee response:",t.data),t.data&&t.data.data){const c=t.data.data;l(c),L(c);const o=[...new Set(c.map(g=>g.Department).filter(Boolean))];C(o),console.log(`Extracted ${o.length} unique departments from employee data`)}else console.error("Unexpected response format:",t.data),l([]),L([]);R(!1)}).catch(t=>{console.error("Error fetching employees:",t),R(!1),l([]),L([]),d.fire({title:"Error!",text:"Failed to load employees. Please try again.",icon:"error",confirmButtonText:"OK"})}),H.get("/departments",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(t=>{t.data&&t.data.data&&C(t.data.data)}).catch(t=>{console.error("Error fetching departments:",t)}))},[u]),m.useEffect(()=>{if(!Array.isArray(y)){console.warn("availableEmployees is not an array:",y),L([]);return}let t=[...y];if(B&&(t=t.filter(c=>c.Department===B)),v.trim()){const c=v.toLowerCase();t=t.filter(o=>{const g=(o.Fname||"").toLowerCase(),P=(o.Lname||"").toLowerCase(),E=(o.idno||"").toLowerCase(),Q=`${g} ${P}`.toLowerCase(),K=`${P} ${g}`.toLowerCase();return g.includes(c)||P.includes(c)||(E==null?void 0:E.includes(c))||Q.includes(c)||K.includes(c)})}console.log(`Filtered employees: ${t.length} matches`),L(t)},[v,B,y]),m.useEffect(()=>{if(s){const t=s.start_time?new Date(s.start_time):"",c=s.end_time?new Date(s.end_time):"";b({...s,start_time:t?t.toISOString().slice(0,16):"",end_time:c?c.toISOString().slice(0,16):"",participants:s.participants?s.participants.map(o=>o.id):[]}),s.participants&&h(s.participants)}else b({title:"",agenda:"",start_time:"",end_time:"",location:"",organizer:"",department:"",status:"Scheduled",is_recurring:!1,recurrence_pattern:"",meeting_link:"",participants:[]}),h([])},[s]);const T=t=>{t.preventDefault();const c={...n,participants:f.map(o=>o.id)};p==="create"?$.post("/meetings",c,{onError:o=>{S(o),d.fire({toast:!0,position:"top",icon:"error",title:"Please check the form for errors.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onSuccess:()=>{a(),d.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:g=>{g.addEventListener("mouseenter",d.stopTimer),g.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Success!",text:"Meeting scheduled successfully.",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md",title:"text-gray-700 font-medium"}})}}):$.post(`/meetings/${s.id}`,{...c,_method:"PUT"},{onError:o=>{S(o),d.fire({toast:!0,position:"top",icon:"error",title:"Please check the form for errors.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onSuccess:()=>{a(),d.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:g=>{g.addEventListener("mouseenter",d.stopTimer),g.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Success!",text:"Meeting updated successfully.",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md",title:"text-gray-700 font-medium"}})}})},w=t=>{const{name:c,value:o,type:g,checked:P}=t.target;b(E=>({...E,[c]:g==="checkbox"?P:o})),i[c]&&S(E=>({...E,[c]:void 0}))},A=t=>{f.find(c=>c.id===t.id)||(h([...f,t]),b(o=>({...o,participants:[...o.participants,t.id]})),d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",d.stopTimer),o.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:`${t.Fname} ${t.Lname} added to participants`})),k("")},M=t=>{const c=f.find(o=>o.id===t);h(f.filter(o=>o.id!==t)),b(o=>({...o,participants:o.participants.filter(g=>g!==t)})),c&&d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:g=>{g.addEventListener("mouseenter",d.stopTimer),g.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"info",title:`${c.Fname} ${c.Lname} removed from participants`})};return e.jsx(G,{show:u,onClose:a,title:p==="create"?"Schedule New Meeting":"Edit Meeting",children:e.jsxs("form",{onSubmit:T,className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Basic Information"})}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium mb-1",children:["Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"title",name:"title",type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.title?"border-red-500":"border-gray-300"}`,value:n.title,onChange:w}),i.title&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.title})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"agenda",className:"block text-sm font-medium mb-1",children:"Agenda"}),e.jsx("textarea",{id:"agenda",name:"agenda",rows:3,className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.agenda,onChange:w})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("h3",{className:"text-lg font-semibold mb-3 mt-4",children:"Scheduling"})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"start_time",className:"block text-sm font-medium mb-1",children:["Start Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"start_time",name:"start_time",type:"datetime-local",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.start_time?"border-red-500":"border-gray-300"}`,value:n.start_time,onChange:w}),i.start_time&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.start_time})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"end_time",className:"block text-sm font-medium mb-1",children:["End Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"end_time",name:"end_time",type:"datetime-local",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.end_time?"border-red-500":"border-gray-300"}`,value:n.end_time,onChange:w}),i.end_time&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.end_time})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Location"}),e.jsx("input",{id:"location",name:"location",type:"text",className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.location,onChange:w})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium mb-1",children:"Status"}),e.jsxs("select",{id:"status",name:"status",className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.status,onChange:w,children:[e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"}),e.jsx("option",{value:"Postponed",children:"Postponed"})]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("input",{id:"is_recurring",name:"is_recurring",type:"checkbox",checked:n.is_recurring,onChange:w,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_recurring",className:"ml-2 block text-sm text-gray-900",children:"This is a recurring meeting"})]}),n.is_recurring&&e.jsx("div",{children:e.jsxs("select",{id:"recurrence_pattern",name:"recurrence_pattern",className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.recurrence_pattern,onChange:w,children:[e.jsx("option",{value:"",children:"Select Recurrence Pattern"}),e.jsx("option",{value:"Daily",children:"Daily"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Bi-weekly",children:"Bi-weekly"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Custom",children:"Custom"})]})})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{htmlFor:"meeting_link",className:"block text-sm font-medium mb-1",children:"Meeting Link"}),e.jsx("input",{id:"meeting_link",name:"meeting_link",type:"url",className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.meeting_link,onChange:w,placeholder:"https://"})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("h3",{className:"text-lg font-semibold mb-3 mt-4",children:"Meeting Details"})}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"organizer",className:"block text-sm font-medium mb-1",children:["Organizer ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"organizer",name:"organizer",type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.organizer?"border-red-500":"border-gray-300"}`,value:n.organizer,onChange:w}),i.organizer&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.organizer})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"department",className:"block text-sm font-medium mb-1",children:"Department"}),e.jsx("input",{id:"department",name:"department",type:"text",className:"w-full p-2 border rounded border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n.department,onChange:w})]}),e.jsx("div",{className:"col-span-2",children:e.jsx("h3",{className:"text-lg font-semibold mb-3 mt-4",children:"Participants"})}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("div",{className:"mb-2 grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search employees by name or ID...",value:v,onChange:t=>k(t.target.value),disabled:_})]}),e.jsx("div",{children:e.jsxs("select",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",value:B,onChange:t=>J(t.target.value),disabled:_,children:[e.jsx("option",{value:"",children:"All Departments"}),Array.isArray(z)&&z.map((t,c)=>{const o=typeof t=="string"?t:t.name||t.code||"",g=typeof t=="string"?t:t.id||c;return e.jsx("option",{value:o,children:o},`dept-${g}`)})]})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[_?"Loading employees...":D.length===0?"No matching employees found":D.length===1?"1 employee found":`${D.length} employees found`,f.length>0&&` - ${f.length} employee${f.length>1?"s":""} selected`]}),e.jsx("div",{className:"max-h-40 overflow-y-auto border rounded-md",children:_?e.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading employees..."}):D.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:D.map(t=>e.jsxs("div",{className:"flex items-center p-2 hover:bg-gray-50 cursor-pointer",onClick:()=>A(t),children:[e.jsxs("div",{className:"ml-3 flex-grow",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[t.Lname,", ",t.Fname," ",t.MName||""]}),e.jsxs("div",{className:"text-xs text-gray-500 flex space-x-2",children:[e.jsx("span",{children:t.idno||"No ID"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.Department||"No Dept"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:t.Jobtitle||"No Title"})]})]}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",className:"h-8 w-8 p-0 rounded-full",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]},t.id))}):e.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No employees found matching your criteria"})}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("h4",{className:"text-sm font-medium mb-2",children:["Selected Participants (",f.length,")"]}),f.length>0?e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),e.jsx("th",{scope:"col",className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:[t.Lname,", ",t.Fname]}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:t.Department||"-"}),e.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(N,{type:"button",variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-800",onClick:()=>M(t.id),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})})]},t.id))})]})}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No participants selected."})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(N,{type:"button",onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx(N,{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:p==="create"?"Schedule Meeting":"Save Changes"})]})]})})},Se=({isOpen:u,onClose:a,meeting:s,onReschedule:p})=>{const[n,b]=m.useState({start_time:"",end_time:"",status:"Scheduled"}),[i,S]=m.useState({});m.useEffect(()=>{if(s){const y=s.start_time?new Date(s.start_time):"",l=s.end_time?new Date(s.end_time):"";b({start_time:y?y.toISOString().slice(0,16):"",end_time:l?l.toISOString().slice(0,16):"",status:"Scheduled"})}},[s]);const f=y=>{const{name:l,value:v}=y.target;b(k=>({...k,[l]:v})),i[l]&&S(k=>({...k,[l]:void 0}))},h=y=>{if(y.preventDefault(),new Date(n.end_time)<=new Date(n.start_time)){S({...i,end_time:"End time must be after start time"});return}$.post(`/meetings/${s.id}/reschedule`,{...n,_method:"PUT"},{onError:l=>{S(l),d.fire({toast:!0,position:"top",icon:"error",title:"Please check the form for errors.",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})},onSuccess:()=>{a(),d.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:v=>{v.addEventListener("mouseenter",d.stopTimer),v.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Success!",text:"Meeting rescheduled successfully.",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md",title:"text-gray-700 font-medium"}}),p&&p()}})};return e.jsx(G,{show:u,onClose:a,title:"Reschedule Meeting",children:e.jsxs("form",{onSubmit:h,className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"start_time",className:"block text-sm font-medium mb-1",children:["New Start Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"start_time",name:"start_time",type:"datetime-local",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.start_time?"border-red-500":"border-gray-300"}`,value:n.start_time,onChange:f,required:!0}),i.start_time&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.start_time})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"end_time",className:"block text-sm font-medium mb-1",children:["New End Date & Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{id:"end_time",name:"end_time",type:"datetime-local",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${i.end_time?"border-red-500":"border-gray-300"}`,value:n.end_time,onChange:f,required:!0}),i.end_time&&e.jsx("p",{className:"mt-1 text-sm text-red-500",children:i.end_time})]}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(X,{className:"h-5 w-5 text-yellow-500 mt-0.5 mr-2"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Rescheduling Notice"}),e.jsx("p",{className:"text-sm text-yellow-700",children:'This will notify all participants about the schedule change. The meeting status will be set to "Scheduled".'})]})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(N,{type:"button",onClick:a,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300",children:"Cancel"}),e.jsx(N,{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Reschedule Meeting"})]})]})})},_e=({meetings:u,onEdit:a,onDelete:s,onView:p,onMarkCompleted:n,onMarkCancelled:b,onMarkScheduled:i,onReschedule:S})=>{if(!(u!=null&&u.length))return e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No meetings found"});const f=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),h=l=>new Date(l).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),y=l=>{switch(l){case"Scheduled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"Completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Completed"]});case"Cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Cancelled"]});case"Postponed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Postponed"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:l})}};return e.jsx("div",{className:"overflow-x-auto",style:{maxHeight:"65vh",overflowY:"auto"},children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Organizer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participants"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(l=>e.jsxs("tr",{className:`hover:bg-gray-50 ${l.status==="Cancelled"?"bg-red-50":l.status==="Postponed"?"bg-yellow-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(N,{variant:"outline",className:"p-2",onClick:()=>p(l),title:"View Meeting",children:e.jsx(he,{className:"h-4 w-4"})}),e.jsx(N,{variant:"secondary",className:"p-2",onClick:()=>a(l),title:"Edit Meeting",children:e.jsx(ge,{className:"h-4 w-4"})}),(l.status==="Scheduled"||l.status==="Postponed")&&e.jsx(N,{variant:"default",className:"p-2 bg-purple-500 hover:bg-purple-600 text-white",onClick:()=>S(l),title:"Reschedule Meeting",children:e.jsx(Y,{className:"h-4 w-4"})}),l.status!=="Completed"&&e.jsx(N,{variant:"default",className:"p-2 bg-blue-500 hover:bg-blue-600 text-white",onClick:()=>n(l.id),title:"Mark as Completed",children:e.jsx(I,{className:"h-4 w-4"})}),l.status!=="Cancelled"&&e.jsx(N,{variant:"destructive",className:"p-2",onClick:()=>b(l.id),title:"Cancel Meeting",children:e.jsx(q,{className:"h-4 w-4"})}),(l.status==="Cancelled"||l.status==="Postponed")&&e.jsx(N,{variant:"default",className:"p-2 bg-green-500 hover:bg-green-600 text-white",onClick:()=>S(l),title:"Reschedule Meeting",children:e.jsx(Y,{className:"h-4 w-4"})}),e.jsx(N,{variant:"destructive",className:"p-2",onClick:()=>s(l.id),title:"Delete Meeting",children:e.jsx(fe,{className:"h-4 w-4"})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:l.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f(l.start_time)}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[h(l.start_time)," - ",h(l.end_time)]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[y(l.status),l.is_recurring&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 ml-1",children:[e.jsx(O,{className:"w-3 h-3 mr-1"}),"Recurring"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.location||(l.meeting_link?e.jsxs("span",{className:"inline-flex items-center text-blue-600",children:[e.jsx(re,{className:"h-4 w-4 mr-1"}),"Virtual"]}):"-")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.organizer}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.participants_count||0})]},l.id))})]})})},nt=({meetings:u,counts:a={},currentStatus:s="all",flash:p})=>{var Z,ee,te,se;console.log("Initial meetings received:",u),console.log("Current status:",s);const{auth:n}=le().props,b=(n==null?void 0:n.user)||{},i=Array.isArray(u)?u:[],[S,f]=m.useState(i),[h,y]=m.useState(""),[l,v]=m.useState(!1),[k,_]=m.useState(null),[R,B]=m.useState("create"),[J,D]=m.useState(!1),[L,z]=m.useState(!1),[C,T]=m.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),w=m.useRef(null),A={total:(a==null?void 0:a.total)!==void 0?a.total:i.length||0,scheduled:(a==null?void 0:a.scheduled)!==void 0?a.scheduled:((Z=i.filter(r=>(r==null?void 0:r.status)==="Scheduled"))==null?void 0:Z.length)||0,completed:(a==null?void 0:a.completed)!==void 0?a.completed:((ee=i.filter(r=>(r==null?void 0:r.status)==="Completed"))==null?void 0:ee.length)||0,cancelled:(a==null?void 0:a.cancelled)!==void 0?a.cancelled:((te=i.filter(r=>(r==null?void 0:r.status)==="Cancelled"))==null?void 0:te.length)||0,postponed:(a==null?void 0:a.postponed)!==void 0?a.postponed:((se=i.filter(r=>(r==null?void 0:r.status)==="Postponed"))==null?void 0:se.length)||0},[M,t]=m.useState(s||"all"),c=m.useRef(!1);m.useEffect(()=>{console.log("rescheduleModalOpen state changed:",L),console.log("selectedMeeting:",k)},[L,k]),m.useEffect(()=>{(!u||!Array.isArray(u)||u.length===0)&&!c.current&&(console.log("No meetings data from props, fetching directly..."),c.current=!0,H.get("/meetings/list",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(r=>{console.log("Direct API response:",r.data),r.data&&r.data.meetings&&Array.isArray(r.data.meetings)&&f(r.data.meetings)}).catch(r=>{console.error("Error fetching meetings via API:",r)}))},[]),m.useEffect(()=>{if(JSON.stringify(w.current)!==JSON.stringify(i)||h!==""||M!=="all"){console.log("Filtering meetings based on:",{searchTerm:h,activeTab:M});let x=[...i];M!=="all"&&(x=x.filter(j=>j.status===M)),h&&(x=x.filter(j=>j.title&&j.title.toLowerCase().includes(h.toLowerCase())||j.location&&j.location.toLowerCase().includes(h.toLowerCase())||j.organizer&&j.organizer.toLowerCase().includes(h.toLowerCase())||j.department&&j.department.toLowerCase().includes(h.toLowerCase()))),f(x),w.current=i}},[h,M]),m.useEffect(()=>{if(JSON.stringify(w.current)!==JSON.stringify(i)){console.log("Meetings data changed, updating filtered meetings"),w.current=i;let r=[...i];M!=="all"&&(r=r.filter(x=>x.status===M)),h&&(r=r.filter(x=>x.title&&x.title.toLowerCase().includes(h.toLowerCase())||x.location&&x.location.toLowerCase().includes(h.toLowerCase())||x.organizer&&x.organizer.toLowerCase().includes(h.toLowerCase())||x.department&&x.department.toLowerCase().includes(h.toLowerCase()))),f(r)}},[i]);const o=r=>{_(r),D(!0)},g=r=>{console.log("Rescheduling meeting:",r),_(r),z(!0),console.log("Modal should be open:",!0)},P=r=>{T({isOpen:!0,title:"Delete Meeting",message:"Are you sure you want to delete this meeting? This action cannot be undone.",confirmText:"Delete",confirmVariant:"destructive",onConfirm:()=>{$.post(`/meetings/${r}`,{_method:"DELETE"},{onSuccess:()=>{T({...C,isOpen:!1}),d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:j=>{j.addEventListener("mouseenter",d.stopTimer),j.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Meeting deleted successfully",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md flex items-start",title:"text-gray-700 ml-3 font-medium"}})},onError:x=>{console.error("Delete failed:",x),d.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to delete meeting",showConfirmButton:!1,timer:3e3})}})}})},E=r=>{T({isOpen:!0,title:"Mark Meeting as Completed",message:"Are you sure you want to mark this meeting as completed?",confirmText:"Mark Completed",confirmVariant:"default",onConfirm:()=>{H.post(`/meetings/${r}/mark-completed`).then(x=>{T({...C,isOpen:!1}),d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:V=>{V.addEventListener("mouseenter",d.stopTimer),V.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Meeting marked as completed",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md flex items-start",title:"text-gray-700 ml-3 font-medium"}}),window.location.reload()}).catch(x=>{console.error("Failed to mark meeting as completed:",x),d.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to update meeting status",showConfirmButton:!1,timer:3e3})})}})},Q=r=>{T({isOpen:!0,title:"Cancel Meeting",message:"Are you sure you want to cancel this meeting?",confirmText:"Cancel Meeting",confirmVariant:"destructive",onConfirm:()=>{H.post(`/meetings/${r}/mark-cancelled`).then(x=>{T({...C,isOpen:!1}),d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:V=>{V.addEventListener("mouseenter",d.stopTimer),V.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Meeting cancelled successfully",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md flex items-start",title:"text-gray-700 ml-3 font-medium"}}),window.location.reload()}).catch(x=>{console.error("Failed to cancel meeting:",x),d.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to cancel meeting",showConfirmButton:!1,timer:3e3})})}})},K=r=>{T({isOpen:!0,title:"Reschedule Meeting",message:"Are you sure you want to mark this meeting as scheduled?",confirmText:"Schedule",confirmVariant:"default",onConfirm:()=>{$.post(`/meetings/${r}/mark-scheduled`,{status:"Scheduled"},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{T({...C,isOpen:!1}),d.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:j=>{j.addEventListener("mouseenter",d.stopTimer),j.addEventListener("mouseleave",d.resumeTimer)}}).fire({icon:"success",title:"Meeting rescheduled successfully",iconHtml:'<div class="rounded-full bg-green-100 p-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg></div>',customClass:{popup:"px-6 py-4 rounded-lg shadow-md flex items-start",title:"text-gray-700 ml-3 font-medium"}})},onError:()=>{d.fire({toast:!0,position:"top-end",icon:"error",title:"Failed to reschedule meeting",showConfirmButton:!1,timer:3e3})}})}})},ne=r=>{if(r!==M){t(r);const x=setTimeout(()=>{$.visit(`/meetings?status=${r}`,{preserveState:!0,preserveScroll:!0,only:["meetings","currentStatus"]})},300);return()=>clearTimeout(x)}};return e.jsxs(oe,{user:b,children:[e.jsx(ie,{title:"Meeting Management"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[e.jsx(de,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[(p==null?void 0:p.message)&&e.jsx(ce,{className:"mb-4",children:e.jsx(me,{children:p.message})}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Meeting Management"}),e.jsx("p",{className:"text-gray-600",children:"Schedule and manage company meetings."})]}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs(N,{onClick:()=>{B("create"),_(null),v(!0)},className:"px-5 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-colors duration-200 flex items-center",children:[e.jsx(Y,{className:"w-5 h-5 mr-2"}),"Schedule Meeting"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(U,{title:"Total Meetings",count:A.total,icon:e.jsx(O,{className:"h-6 w-6 text-indigo-600"}),bgColor:"bg-white",textColor:"text-gray-600"}),e.jsx(U,{title:"Scheduled",count:A.scheduled,icon:e.jsx(xe,{className:"h-6 w-6 text-green-600"}),bgColor:"bg-white",textColor:"text-gray-600"}),e.jsx(U,{title:"Completed",count:A.completed,icon:e.jsx(I,{className:"h-6 w-6 text-blue-600"}),bgColor:"bg-white",textColor:"text-gray-600"}),e.jsx(U,{title:"Cancelled",count:A.cancelled,icon:e.jsx(q,{className:"h-6 w-6 text-red-600"}),bgColor:"bg-white",textColor:"text-gray-600"})]}),e.jsx("div",{className:"flex gap-4 mb-6",children:e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search meetings...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:h,onChange:r=>y(r.target.value)})]})}),e.jsx(ve,{defaultValue:M,className:"mb-6",onValueChange:ne,children:e.jsxs(ae,{className:"grid grid-cols-5 w-full",children:[e.jsx(F,{value:"all",children:"All Meetings"}),e.jsxs(F,{value:"Scheduled",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Scheduled"]}),e.jsxs(F,{value:"Completed",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Completed"]}),e.jsxs(F,{value:"Cancelled",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Cancelled"]}),e.jsxs(F,{value:"Postponed",children:[e.jsx(X,{className:"h-4 w-4 mr-2"}),"Postponed"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsx(_e,{meetings:S,onView:o,onEdit:r=>{_(r),B("edit"),v(!0)},onDelete:P,onMarkCompleted:E,onMarkCancelled:Q,onMarkScheduled:K,onReschedule:g})}),e.jsx(Ce,{isOpen:J,onClose:()=>{D(!1),_(null)},meeting:k}),e.jsx(ke,{isOpen:l,onClose:()=>{v(!1),_(null)},meeting:k,mode:R}),console.log("Rendering RescheduleModal with props:",{isOpen:L,meeting:k}),e.jsx(Se,{isOpen:L,onClose:()=>{console.log("Closing reschedule modal"),z(!1),_(null)},meeting:k,onReschedule:()=>{window.location.reload()}}),e.jsx(ue,{isOpen:C.isOpen,onClose:()=>T({...C,isOpen:!1}),title:C.title,message:C.message,confirmText:C.confirmText,confirmVariant:C.confirmVariant,onConfirm:C.onConfirm})]})})]})]})};export{nt as default};
