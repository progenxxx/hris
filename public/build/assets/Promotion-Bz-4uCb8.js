import{V as ie,r as i,b as D,j as e,M as ne}from"./app-C_ClQmDY.js";import{A as oe}from"./AuthenticatedLayout-3cR_usYW.js";import{S as de}from"./Sidebar-Bhx-DaaE.js";import{B as O}from"./Button-Du7mhroA.js";import"./alert-CLB16PDI.js";import{l as ce}from"./lodash-DJVfGrwh.js";import{M as U}from"./Modal-ClAHGT5r.js";import{C as me}from"./ConfirmModal-D_xoNxPu.js";import{P as xe}from"./plus-D1sl-ovH.js";import{S as H}from"./search-BDKFcNkb.js";import{X as M}from"./x-Q1lJB2Tb.js";import{C as q}from"./circle-check-big-CRb1LywB.js";import{C as I}from"./circle-x-CQhehAg2.js";import{C as ue}from"./clock-CtBUUqYK.js";import{S as pe}from"./save-BXp290R1.js";import{C as he}from"./check-D3tZ-Yap.js";import"./ApplicationLogo-BORf3137.js";import"./Dropdown-CHXQRgIL.js";import"./transition-0ACRCynB.js";import"./createLucideIcon-D1ADp28Z.js";/* empty css                */import"./users-Dr4YdQlV.js";import"./file-text-DMC5LN9m.js";import"./calendar-B28JSqfz.js";import"./clsx-B-dksMZM.js";import"./index-DsTYaH8m.js";const ge=({message:p,type:g,onClose:r})=>{i.useEffect(()=>{const w=setTimeout(()=>{r()},3e3);return()=>clearTimeout(w)},[r]);const s=g==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",m=g==="success"?"text-green-700":"text-red-700",n=g==="success"?e.jsx(he,{className:"h-5 w-5 text-green-500"}):e.jsx(I,{className:"h-5 w-5 text-red-500"});return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-md border ${s}`,role:"alert",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",children:n}),e.jsx("div",{className:`ml-3 text-sm font-normal ${m}`,children:p}),e.jsx("button",{type:"button",className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${m} hover:bg-gray-100`,onClick:r,"aria-label":"Close",children:e.jsx(M,{className:"w-5 h-5"})})]})},X=({status:p})=>p==="approved"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),"Approved"]}):p==="rejected"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),"Rejected"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(ue,{className:"w-3 h-3 mr-1"}),"Pending"]}),W=({isOpen:p,onClose:g,title:r,promotion:s,employees:m,onChange:n,onSubmit:w,mode:k="create",errorMessages:l={}})=>{const o=k==="view",[N,f]=i.useState(""),[h,_]=i.useState([]);return i.useEffect(()=>{if(!Array.isArray(m)){_([]);return}if(!N.trim()){_(m);return}const a=N.toLowerCase(),P=m.filter(x=>{const y=(x.Fname||"").toLowerCase(),v=(x.Lname||"").toLowerCase(),E=(x.idno||"").toLowerCase(),L=`${y} ${v}`.toLowerCase(),A=`${v} ${y}`.toLowerCase();return y.includes(a)||v.includes(a)||E.includes(a)||L.includes(a)||A.includes(a)}),j=P.find(x=>{const y=(x.Fname||"").toLowerCase(),v=(x.Lname||"").toLowerCase(),E=(x.idno||"").toLowerCase(),L=`${y} ${v}`.toLowerCase(),A=`${v} ${y}`.toLowerCase(),F=`${v}, ${y} (${E})`.toLowerCase();return y===a||v===a||E===a||L===a||A===a||F===a});j&&s.employee_id!==j.id&&n({...s,employee_id:j.id}),_(P)},[N,m,n,s.employee_id]),i.useEffect(()=>{p&&(f(""),_(m||[]))},[p,m]),e.jsx(U,{show:p,onClose:g,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:r}),e.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.employee?`${s.employee.Lname||""}, ${s.employee.Fname||""} ${s.employee.idno?`(${s.employee.idno})`:""}`:"Unknown Employee"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(H,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search employees by name or ID...",value:N,onChange:a=>f(a.target.value)}),s.employee_id&&h.length>0&&h.find(a=>a.id===s.employee_id)&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(q,{className:"h-4 w-4 text-green-500"})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[h.length===0?"No matching employees found":h.length===1?"1 employee found":`${h.length} employees found`,s.employee_id&&h.find(a=>a.id===s.employee_id)&&" - Employee selected"]}),e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.employee_id?"border-red-500":""}`,value:s.employee_id||"",onChange:a=>n({...s,employee_id:a.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Employee"}),Array.isArray(h)&&h.length>0?h.map(a=>e.jsxs("option",{value:a.id,children:[a.Lname||"",", ",a.Fname||""," ",a.idno?`(${a.idno})`:""]},a.id||`emp-${Math.random()}`)):N?e.jsx("option",{value:"",disabled:!0,children:"No matching employees found"}):e.jsx("option",{value:"",disabled:!0,children:"No employees available"})]})]}),l.employee_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promotion Title"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.promotion_title||""}):e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.promotion_title?"border-red-500":""}`,value:s.promotion_title||"",onChange:a=>n({...s,promotion_title:a.target.value}),placeholder:"e.g. Promotion to Senior Developer",required:!0}),l.promotion_title&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.promotion_title})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Position"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.previous_position||""}):e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.previous_position?"border-red-500":""}`,value:s.previous_position||"",onChange:a=>n({...s,previous_position:a.target.value}),placeholder:"e.g. Junior Developer",required:!0}),l.previous_position&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.previous_position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Position"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.new_position||""}):e.jsx("input",{type:"text",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.new_position?"border-red-500":""}`,value:s.new_position||"",onChange:a=>n({...s,new_position:a.target.value}),placeholder:"e.g. Senior Developer",required:!0}),l.new_position&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.new_position})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Salary"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.previous_salary?parseFloat(s.previous_salary).toLocaleString():""}):e.jsx("input",{type:"number",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.previous_salary?"border-red-500":""}`,value:s.previous_salary||"",onChange:a=>n({...s,previous_salary:a.target.value}),placeholder:"e.g. 50000",min:"0",step:"0.01"}),l.previous_salary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.previous_salary})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Salary"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.new_salary?parseFloat(s.new_salary).toLocaleString():""}):e.jsx("input",{type:"number",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.new_salary?"border-red-500":""}`,value:s.new_salary||"",onChange:a=>n({...s,new_salary:a.target.value}),placeholder:"e.g. 65000",min:"0",step:"0.01"}),l.new_salary&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.new_salary})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promotion Date"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.promotion_date?new Date(s.promotion_date).toLocaleDateString():""}):e.jsx("input",{type:"date",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.promotion_date?"border-red-500":""}`,value:s.promotion_date||"",onChange:a=>n({...s,promotion_date:a.target.value}),required:!0}),l.promotion_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.promotion_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o?e.jsx("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line min-h-[100px]",children:s.description||""}):e.jsx("textarea",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.description?"border-red-500":""}`,value:s.description||"",onChange:a=>n({...s,description:a.target.value}),placeholder:"Reason for promotion and other details",rows:"3"}),l.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.description})]}),o&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(X,{status:s.status})})]}),s.approved_by&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved By"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:s.approver?s.approver.name:"Unknown User"})]}),s.approved_at&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved At"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:new Date(s.approved_at).toLocaleString()})]}),s.remarks&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:s.remarks})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(O,{type:"button",variant:"outline",onClick:()=>g(!1),className:"mr-2",children:o?"Close":"Cancel"}),!o&&e.jsxs(O,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(pe,{className:"w-4 h-4 mr-2"}),k==="create"?"Save Promotion":"Update Promotion"]})]})]})]})})},fe=({isOpen:p,onClose:g,promotion:r,onSubmit:s})=>{var o,N,f;const[m,n]=i.useState("approved"),[w,k]=i.useState("");i.useEffect(()=>{p&&(n("approved"),k(""))},[p]);const l=h=>{h.preventDefault(),s({status:m,remarks:w})};return e.jsx(U,{show:p,onClose:g,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Review Promotion Request"}),e.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-500",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),e.jsxs("div",{className:"p-2 border rounded bg-gray-50",children:[(o=r==null?void 0:r.employee)==null?void 0:o.Fname," ",(N=r==null?void 0:r.employee)==null?void 0:N.Lname," (",(f=r==null?void 0:r.employee)==null?void 0:f.idno,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Position"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:r==null?void 0:r.previous_position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Position"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:r==null?void 0:r.new_position})]})]}),(r==null?void 0:r.previous_salary)&&(r==null?void 0:r.new_salary)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Previous Salary"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:parseFloat(r==null?void 0:r.previous_salary).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Salary"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:parseFloat(r==null?void 0:r.new_salary).toLocaleString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"approved",checked:m==="approved",onChange:()=>n("approved"),className:"form-radio h-4 w-4 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Approve"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"rejected",checked:m==="rejected",onChange:()=>n("rejected"),className:"form-radio h-4 w-4 text-red-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Reject"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("textarea",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:w,onChange:h=>k(h.target.value),placeholder:"Add your comments or reasons for the decision",rows:"3"})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(O,{type:"button",variant:"outline",onClick:g,className:"mr-2",children:"Cancel"}),e.jsx(O,{type:"submit",className:m==="approved"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700",children:m==="approved"?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Approve Promotion"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),"Reject Promotion"]})})]})]})]})})},ze=()=>{const{auth:p}=ie().props;p!=null&&p.user;const[g,r]=i.useState([]),[s,m]=i.useState([]),[n,w]=i.useState(!0),[k,l]=i.useState(""),[o,N]=i.useState("all"),[f,h]=i.useState({from:"",to:""}),[_,a]=i.useState({visible:!1,message:"",type:"success"}),P={employee_id:"",promotion_title:"",previous_position:"",new_position:"",previous_salary:"",new_salary:"",promotion_date:"",description:""},[j,x]=i.useState(P),[y,v]=i.useState({}),[E,L]=i.useState(!1),[A,F]=i.useState(!1),[J,z]=i.useState(!1),[G,B]=i.useState(!1),[C,V]=i.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),$=i.useCallback(async()=>{var t,c;w(!0);try{const[d,u]=await Promise.all([D.get("/promotions/list",{params:{search:k,status:o!=="all"?o:null,date_from:f.from||null,date_to:f.to||null}}),D.get("/employees/list",{params:{active_only:!0}})]);r(d.data.data||[]),m(u.data.data||[])}catch(d){console.error("Error loading data:",d),S("Error loading data: "+(((c=(t=d.response)==null?void 0:t.data)==null?void 0:c.message)||d.message),"error")}finally{w(!1)}},[k,o,f]);i.useEffect(()=>{$()},[$]);const S=(t,c="success")=>{a({visible:!0,message:t,type:c})},K=()=>{a({..._,visible:!1})},Q=ce.debounce(t=>{l(t)},300),Y=()=>{x(P),v({}),L(!0)},Z=t=>{x({...t}),v({}),F(!0)},ee=t=>{x({...t}),z(!0)},se=t=>{x({...t}),B(!0)},te=async t=>{var c,d,u,T,R;t.preventDefault(),v({});try{const b=await D.post("/promotions",j);await $(),x(P),L(!1),S("Promotion created successfully")}catch(b){console.error("Error creating promotion:",b),((c=b.response)==null?void 0:c.status)===422&&((u=(d=b.response)==null?void 0:d.data)!=null&&u.errors)?v(b.response.data.errors):S(((R=(T=b.response)==null?void 0:T.data)==null?void 0:R.message)||"Error creating promotion","error")}},ae=async t=>{var c,d,u,T,R;t.preventDefault(),v({});try{const b=await D.put(`/promotions/${j.id}`,j);await $(),x(P),F(!1),S("Promotion updated successfully")}catch(b){console.error("Error updating promotion:",b),((c=b.response)==null?void 0:c.status)===422&&((u=(d=b.response)==null?void 0:d.data)!=null&&u.errors)?v(b.response.data.errors):S(((R=(T=b.response)==null?void 0:T.data)==null?void 0:R.message)||"Error updating promotion","error")}},re=async t=>{var c,d;try{const u=await D.post(`/promotions/${j.id}/status`,t);await $(),B(!1),S(`Promotion ${t.status==="approved"?"approved":"rejected"} successfully`)}catch(u){console.error("Error updating promotion status:",u),S(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Error updating promotion status","error")}},le=t=>{V({isOpen:!0,title:"Delete Promotion",message:`Are you sure you want to delete this promotion for ${t.employee.Fname} ${t.employee.Lname}? This action cannot be undone.`,confirmText:"Delete",confirmVariant:"destructive",onConfirm:async()=>{var c,d;try{await D.delete(`/promotions/${t.id}`),await $(),V({...C,isOpen:!1}),S("Promotion deleted successfully")}catch(u){console.error("Error deleting promotion:",u),V({...C,isOpen:!1}),S(((d=(c=u.response)==null?void 0:c.data)==null?void 0:d.message)||"Error deleting promotion","error")}}})};return e.jsxs(oe,{children:[e.jsx(ne,{title:"Employee Promotions"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[e.jsx(de,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[_.visible&&e.jsx(ge,{message:_.message,type:_.type,onClose:K}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Employee Promotions"}),e.jsx("p",{className:"text-gray-600",children:"Manage employee career advancement and position changes."})]}),e.jsxs(O,{onClick:Y,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center",children:[e.jsx(xe,{className:"w-5 h-5 mr-2"}),"New Promotion"]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(H,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search by name or position...",onChange:t=>Q(t.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:o,onChange:t=>N(t.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Promotion Date"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:f.from,onChange:t=>h({...f,from:t.target.value}),placeholder:"From"})}),e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:f.to,onChange:t=>h({...f,to:t.target.value}),placeholder:"To"})})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-8 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Actions"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Status"}),e.jsx("div",{className:"px-6 py-3 col-span-2",children:"Employee"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Promotion Date"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Previous Position"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"New Position"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Description"})]}),n&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:"Loading..."}),!n&&g.length===0&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:k||o!=="all"||f.from||f.to?"No promotions found matching your filters.":"No promotions found. Create a new promotion to get started."}),!n&&g.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:g.map(t=>{var c,d,u;return e.jsxs("div",{className:"grid grid-cols-8 items-center hover:bg-gray-50",children:[e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>ee(t),className:"text-gray-400 hover:text-gray-500",title:"View",type:"button",children:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>Z(t),className:"text-gray-400 hover:text-gray-500",title:"Edit",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>se(t),className:"text-gray-400 hover:text-gray-500",title:"Review",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>le(t),className:"text-gray-400 hover:text-red-500",title:"Delete",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsx(X,{status:t.status})}),e.jsxs("div",{className:"px-6 py-4 col-span-2 whitespace-nowrap",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[(c=t.employee)==null?void 0:c.Lname,", ",(d=t.employee)==null?void 0:d.Fname]}),e.jsx("div",{className:"text-sm text-gray-500",children:(u=t.employee)==null?void 0:u.idno})]}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:new Date(t.promotion_date).toLocaleDateString()}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:t.previous_position}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:t.new_position}),e.jsx("div",{className:"px-6 py-4 col-span-1 text-sm text-gray-500 truncate",children:t.description})]},t.id)})})]})]})})]}),e.jsx(W,{isOpen:E,onClose:()=>L(!1),title:"Create New Promotion",promotion:j,employees:s,onChange:x,onSubmit:te,mode:"create",errorMessages:y}),e.jsx(W,{isOpen:A,onClose:()=>F(!1),title:"Edit Promotion",promotion:j,employees:s,onChange:x,onSubmit:ae,mode:"edit",errorMessages:y}),e.jsx(W,{isOpen:J,onClose:()=>z(!1),title:"View Promotion Details",promotion:j,employees:s,onChange:x,onSubmit:()=>{},mode:"view",errorMessages:{}}),e.jsx(fe,{isOpen:G,onClose:()=>B(!1),promotion:j,onSubmit:re}),e.jsx(me,{isOpen:C.isOpen,onClose:()=>V({...C,isOpen:!1}),title:C.title,message:C.message,confirmText:C.confirmText,confirmVariant:C.confirmVariant,onConfirm:C.onConfirm})]})};export{ze as default};
