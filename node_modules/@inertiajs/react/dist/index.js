var Oe=Object.create;var W=Object.defineProperty;var De=Object.getOwnPropertyDescriptor;var Me=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,He=Object.prototype.hasOwnProperty;var Ve=(r,t)=>{for(var n in t)W(r,n,{get:t[n],enumerable:!0})},pe=(r,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Me(t))!He.call(r,s)&&s!==n&&W(r,s,{get:()=>t[s],enumerable:!(a=De(t,s))||a.enumerable});return r};var ue=(r,t,n)=>(n=r!=null?Oe(Le(r)):{},pe(t||!r||!r.__esModule?W(n,"default",{value:r,enumerable:!0}):n,r)),Be=r=>pe(W({},"__esModule",{value:!0}),r);var $e={};Ve($e,{Deferred:()=>ye,Head:()=>he,Link:()=>Te,WhenVisible:()=>Ce,createInertiaApp:()=>Z,router:()=>Ue,useForm:()=>re,usePage:()=>$,usePoll:()=>ne,usePrefetch:()=>oe,useRemember:()=>M});module.exports=Be($e);var Re=require("@inertiajs/core");var _=require("@inertiajs/core"),me=require("react");var U=require("@inertiajs/core"),k=require("react");var le=require("react"),ce=(0,le.createContext)(void 0);ce.displayName="InertiaHeadContext";var B=ce;var fe=require("react"),de=(0,fe.createContext)(void 0);de.displayName="InertiaPageContext";var N=de;function K({children:r,initialPage:t,initialComponent:n,resolveComponent:a,titleCallback:s,onHeadUpdate:P}){let[l,m]=(0,k.useState)({component:n||null,page:t,key:null}),g=(0,k.useMemo)(()=>(0,U.createHeadManager)(typeof window>"u",s||(f=>f),P||(()=>{})),[]);if((0,k.useEffect)(()=>{U.router.init({initialPage:t,resolveComponent:a,swapComponent:async({component:f,page:e,preserveState:c})=>{m(i=>({component:f,page:e,key:c?i.key:Date.now()}))}}),U.router.on("navigate",()=>g.forceUpdate())},[]),!l.component)return(0,k.createElement)(B.Provider,{value:g},(0,k.createElement)(N.Provider,{value:l.page},null));let y=r||(({Component:f,props:e,key:c})=>{let i=(0,k.createElement)(f,{key:c,...e});return typeof f.layout=="function"?f.layout(i):Array.isArray(f.layout)?f.layout.concat(i).reverse().reduce((h,T)=>(0,k.createElement)(T,{children:h,...e})):i});return(0,k.createElement)(B.Provider,{value:g},(0,k.createElement)(N.Provider,{value:l.page},y({Component:l.component,key:l.key,props:l.page.props})))}K.displayName="Inertia";async function Z({id:r="app",resolve:t,setup:n,title:a,progress:s={},page:P,render:l}){let m=typeof window>"u",g=m?null:document.getElementById(r),y=P||JSON.parse(g.dataset.page),f=i=>Promise.resolve(t(i)).then(h=>h.default||h),e=[],c=await Promise.all([f(y.component),_.router.decryptHistory().catch(()=>{})]).then(([i])=>n({el:g,App:K,props:{initialPage:y,initialComponent:i,resolveComponent:f,titleCallback:a,onHeadUpdate:m?h=>e=h:null}}));if(!m&&s&&(0,_.setupProgress)(s),m){let i=await l((0,me.createElement)("div",{id:r,"data-page":JSON.stringify(y)},c));return{head:e,body:i}}}var q=require("react");var ge=require("react");function $(){let r=(0,ge.useContext)(N);if(!r)throw new Error("usePage must be used within the Inertia component");return r}var Pe=({children:r,data:t,fallback:n})=>{if(!t)throw new Error("`<Deferred>` requires a `data` prop");let[a,s]=(0,q.useState)(!1),P=$().props,l=Array.isArray(t)?t:[t];return(0,q.useEffect)(()=>{s(l.every(m=>P[m]!==void 0))},[P,l]),a?r:n};Pe.displayName="InertiaDeferred";var ye=Pe;var E=ue(require("react"),1);var Ne=function({children:r,title:t}){let n=(0,E.useContext)(B),a=(0,E.useMemo)(()=>n.createProvider(),[n]);(0,E.useEffect)(()=>()=>{a.disconnect()},[a]);function s(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1}function P(e){let c=Object.keys(e.props).reduce((i,h)=>{if(["head-key","children","dangerouslySetInnerHTML"].includes(h))return i;let T=e.props[h];return T===""?i+` ${h}`:i+` ${h}="${T}"`},"");return`<${e.type}${c}>`}function l(e){return typeof e.props.children=="string"?e.props.children:e.props.children.reduce((c,i)=>c+m(i),"")}function m(e){let c=P(e);return e.props.children&&(c+=l(e)),e.props.dangerouslySetInnerHTML&&(c+=e.props.dangerouslySetInnerHTML.__html),s(e)||(c+=`</${e.type}>`),c}function g(e){return E.default.cloneElement(e,{inertia:e.props["head-key"]!==void 0?e.props["head-key"]:""})}function y(e){return m(g(e))}function f(e){let c=E.default.Children.toArray(e).filter(i=>i).map(i=>y(i));return t&&!c.find(i=>i.startsWith("<title"))&&c.push(`<title inertia>${t}</title>`),c}return a.update(f(r)),null},he=Ne;var x=require("@inertiajs/core"),F=require("react"),A=()=>{},Se=(0,F.forwardRef)(({children:r,as:t="a",data:n={},href:a,method:s="get",preserveScroll:P=!1,preserveState:l=null,replace:m=!1,only:g=[],except:y=[],headers:f={},queryStringArrayFormat:e="brackets",async:c=!1,onClick:i=A,onCancelToken:h=A,onBefore:T=A,onStart:w=A,onProgress:O=A,onFinish:Y=A,onCancel:j=A,onSuccess:z=A,onError:V=A,prefetch:b=!1,cacheFor:C=0,...o},u)=>{let[p,R]=(0,F.useState)(0),d=(0,F.useRef)(null);t=t.toLowerCase(),s=s.toLowerCase();let[xe,Ie]=(0,x.mergeDataIntoQueryString)(s,a||"",n,e);a=xe,n=Ie;let se={data:n,method:s,preserveScroll:P,preserveState:l??s!=="get",replace:m,only:g,except:y,headers:f,async:c},ae={...se,onCancelToken:h,onBefore:T,onStart(v){R(X=>X+1),w(v)},onProgress:O,onFinish(v){R(X=>X-1),Y(v)},onCancel:j,onSuccess:z,onError:V},G=()=>{x.router.prefetch(a,se,{cacheFor:Ee})},D=(0,F.useMemo)(()=>b===!0?["hover"]:b===!1?[]:Array.isArray(b)?b:[b],Array.isArray(b)?b:[b]),Ee=(0,F.useMemo)(()=>C!==0?C:D.length===1&&D[0]==="click"?0:3e4,[C,D]);(0,F.useEffect)(()=>()=>{clearTimeout(d.current)},[]),(0,F.useEffect)(()=>{D.includes("mount")&&setTimeout(()=>G())},D);let ie={onClick:v=>{i(v),(0,x.shouldIntercept)(v)&&(v.preventDefault(),x.router.visit(a,ae))}},Ae={onMouseEnter:()=>{d.current=window.setTimeout(()=>{G()},75)},onMouseLeave:()=>{clearTimeout(d.current)},onClick:ie.onClick},we={onMouseDown:v=>{(0,x.shouldIntercept)(v)&&(v.preventDefault(),G())},onMouseUp:v=>{v.preventDefault(),x.router.visit(a,ae)},onClick:v=>{i(v),(0,x.shouldIntercept)(v)&&v.preventDefault()}};return s!=="get"&&(t="button"),(0,F.createElement)(t,{...o,...{a:{href:a},button:{type:"button"}}[t]||{},ref:u,...(()=>D.includes("hover")?Ae:D.includes("click")?we:ie)(),"data-loading":p>0?"":void 0},r)});Se.displayName="InertiaLink";var Te=Se;var te=require("@inertiajs/core"),ve=ue(require("lodash.isequal"),1),S=require("react");var ee=require("@inertiajs/core"),J=require("react");function M(r,t){let[n,a]=(0,J.useState)(()=>{let s=ee.router.restore(t);return s!==void 0?s:r});return(0,J.useEffect)(()=>{ee.router.remember(n,t)},[n,t]),[n,a]}function re(r,t){let n=(0,S.useRef)(null),a=typeof r=="string"?r:null,[s,P]=(0,S.useState)((typeof r=="string"?t:r)||{}),l=(0,S.useRef)(null),m=(0,S.useRef)(null),[g,y]=a?M(s,`${a}:data`):(0,S.useState)(s),[f,e]=a?M({},`${a}:errors`):(0,S.useState)({}),[c,i]=(0,S.useState)(!1),[h,T]=(0,S.useState)(!1),[w,O]=(0,S.useState)(null),[Y,j]=(0,S.useState)(!1),[z,V]=(0,S.useState)(!1),b=o=>o;(0,S.useEffect)(()=>(n.current=!0,()=>{n.current=!1}),[]);let C=(0,S.useCallback)((o,u,p={})=>{let R={...p,onCancelToken:d=>{if(l.current=d,p.onCancelToken)return p.onCancelToken(d)},onBefore:d=>{if(j(!1),V(!1),clearTimeout(m.current),p.onBefore)return p.onBefore(d)},onStart:d=>{if(T(!0),p.onStart)return p.onStart(d)},onProgress:d=>{if(O(d),p.onProgress)return p.onProgress(d)},onSuccess:d=>{if(n.current&&(T(!1),O(null),e({}),i(!1),j(!0),V(!0),m.current=setTimeout(()=>{n.current&&V(!1)},2e3)),p.onSuccess)return p.onSuccess(d)},onError:d=>{if(n.current&&(T(!1),O(null),e(d),i(!0)),p.onError)return p.onError(d)},onCancel:()=>{if(n.current&&(T(!1),O(null)),p.onCancel)return p.onCancel()},onFinish:d=>{if(n.current&&(T(!1),O(null)),l.current=null,p.onFinish)return p.onFinish(d)}};o==="delete"?te.router.delete(u,{...R,data:b(g)}):te.router[o](u,b(g),R)},[g,e,b]);return{data:g,setData(o,u){y(typeof o=="string"?p=>({...p,[o]:u}):typeof o=="function"?p=>o(p):o)},isDirty:!(0,ve.default)(g,s),errors:f,hasErrors:c,processing:h,progress:w,wasSuccessful:Y,recentlySuccessful:z,transform(o){b=o},setDefaults(o,u){P(typeof o>"u"?()=>g:p=>({...p,...typeof o=="string"?{[o]:u}:o}))},reset(...o){o.length===0?y(s):y(Object.keys(s).filter(u=>o.includes(u)).reduce((u,p)=>(u[p]=s[p],u),{...g}))},setError(o,u){e(p=>{let R={...p,...typeof o=="string"?{[o]:u}:o};return i(Object.keys(R).length>0),R})},clearErrors(...o){e(u=>{let p=Object.keys(u).reduce((R,d)=>({...R,...o.length>0&&!o.includes(d)?{[d]:u[d]}:{}}),{});return i(Object.keys(p).length>0),p})},submit:C,get(o,u){C("get",o,u)},post(o,u){C("post",o,u)},put(o,u){C("put",o,u)},patch(o,u){C("patch",o,u)},delete(o,u){C("delete",o,u)},cancel(){l.current&&l.current.cancel()}}}var Fe=require("@inertiajs/core"),Q=require("react");function ne(r,t={},n={keepAlive:!1,autoStart:!0}){let a=(0,Q.useRef)(Fe.router.poll(r,t,{...n,autoStart:!1}));return(0,Q.useEffect)(()=>((n.autoStart??!0)&&a.current.start(),()=>a.current.stop()),[]),{stop:a.current.stop,start:a.current.start}}var L=require("@inertiajs/core"),H=require("react");function oe(r={}){let t=typeof window>"u"?null:L.router.getCached(window.location.pathname,r),n=typeof window>"u"?null:L.router.getPrefetching(window.location.pathname,r),[a,s]=(0,H.useState)(t?.staleTimestamp||null),[P,l]=(0,H.useState)(n!==null),[m,g]=(0,H.useState)(t!==null);return(0,H.useEffect)(()=>{let y=L.router.on("prefetching",e=>{e.detail.visit.url.pathname===window.location.pathname&&l(!0)}),f=L.router.on("prefetched",e=>{e.detail.visit.url.pathname===window.location.pathname&&(l(!1),g(!0),s(e.detail.fetchedAt))});return()=>{f(),y()}},[]),{lastUpdatedAt:a,isPrefetching:P,isPrefetched:m,flush:()=>L.router.flush(window.location.pathname,r)}}var be=require("@inertiajs/core"),I=require("react"),ke=({children:r,data:t,params:n,buffer:a,as:s,always:P,fallback:l})=>{P=P??!1,s=s??"div",l=l??null;let[m,g]=(0,I.useState)(!1),[y,f]=(0,I.useState)(!1),e=(0,I.useRef)(null),c=(0,I.useRef)(null),i=()=>{if(t)return{only:Array.isArray(t)?t:[t]};if(!n)throw new Error("You must provide either a `data` or `params` prop.");return n};return(0,I.useEffect)(()=>{if(c.current)return e.current=new IntersectionObserver(h=>{if(!h[0].isIntersecting||(P||e.current?.disconnect(),y))return;f(!0);let T=i();be.router.reload({...T,onStart:w=>{f(!0),T.onStart?.(w)},onFinish:w=>{g(!0),f(!1),T.onFinish?.(w)}})},{rootMargin:`${a||0}px`}),e.current.observe(c.current),()=>{e.current?.disconnect()}},[c]),P||!m?(0,I.createElement)(s,{props:null,ref:c},m?r:l):m?r:null};ke.displayName="InertiaWhenVisible";var Ce=ke;var Ue=Re.router;
//# sourceMappingURL=index.js.map
