import{V as me,r as o,b as A,j as e,M as xe}from"./app-C_ClQmDY.js";import{A as pe}from"./AuthenticatedLayout-3cR_usYW.js";import{S as ue}from"./Sidebar-Bhx-DaaE.js";import{B as V}from"./Button-Du7mhroA.js";import"./alert-CLB16PDI.js";import{l as he}from"./lodash-DJVfGrwh.js";import{M as J}from"./Modal-ClAHGT5r.js";import{C as fe}from"./ConfirmModal-D_xoNxPu.js";import{P as ge}from"./plus-D1sl-ovH.js";import{S as K}from"./search-BDKFcNkb.js";import{X as P}from"./x-Q1lJB2Tb.js";import{C as z}from"./circle-check-big-CRb1LywB.js";import{C as H}from"./circle-x-CQhehAg2.js";import{C as je}from"./clock-CtBUUqYK.js";import{F as Q}from"./file-text-DMC5LN9m.js";import{S as be}from"./save-BXp290R1.js";import{C as ye}from"./check-D3tZ-Yap.js";import"./ApplicationLogo-BORf3137.js";import"./Dropdown-CHXQRgIL.js";import"./transition-0ACRCynB.js";import"./createLucideIcon-D1ADp28Z.js";/* empty css                */import"./users-Dr4YdQlV.js";import"./calendar-B28JSqfz.js";import"./clsx-B-dksMZM.js";import"./index-DsTYaH8m.js";const ve=({message:u,type:f,onClose:r})=>{o.useEffect(()=>{const C=setTimeout(()=>{r()},3e3);return()=>clearTimeout(C)},[r]);const t=f==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",c=f==="success"?"text-green-700":"text-red-700",h=f==="success"?e.jsx(ye,{className:"h-5 w-5 text-green-500"}):e.jsx(H,{className:"h-5 w-5 text-red-500"});return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-md border ${t}`,role:"alert",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",children:h}),e.jsx("div",{className:`ml-3 text-sm font-normal ${c}`,children:u}),e.jsx("button",{type:"button",className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${c} hover:bg-gray-100`,onClick:r,"aria-label":"Close",children:e.jsx(P,{className:"w-5 h-5"})})]})},Y=({status:u})=>u==="approved"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Approved"]}):u==="rejected"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(H,{className:"w-3 h-3 mr-1"}),"Rejected"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"Pending"]}),I=({isOpen:u,onClose:f,title:r,resignation:t,employees:c,onChange:h,onFileChange:C,onSubmit:_,mode:$="create",errorMessages:l={}})=>{const g=$==="view",[m,S]=o.useState(""),[j,D]=o.useState([]);return o.useEffect(()=>{if(!Array.isArray(c)){D([]);return}if(!m.trim()){D(c);return}const a=m.toLowerCase(),x=c.filter(N=>{const b=(N.Fname||"").toLowerCase(),w=(N.Lname||"").toLowerCase(),k=(N.idno||"").toLowerCase(),T=`${b} ${w}`.toLowerCase(),E=`${w} ${b}`.toLowerCase();return b.includes(a)||w.includes(a)||k.includes(a)||T.includes(a)||E.includes(a)}),v=x.find(N=>{const b=(N.Fname||"").toLowerCase(),w=(N.Lname||"").toLowerCase(),k=(N.idno||"").toLowerCase(),T=`${b} ${w}`.toLowerCase(),E=`${w} ${b}`.toLowerCase(),B=`${w}, ${b} (${k})`.toLowerCase();return b===a||w===a||k===a||T===a||E===a||B===a});v&&!t.employee_id&&h({...t,employee_id:v.id}),D(x)},[m,c,h,t.employee_id]),o.useEffect(()=>{u&&(S(""),D(c||[]))},[u,c]),e.jsx(J,{show:u,onClose:f,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:r}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(P,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),g?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:t.employee?`${t.employee.Lname||""}, ${t.employee.Fname||""} ${t.employee.idno?`(${t.employee.idno})`:""}`:"Unknown Employee"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(K,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search employees by name or ID...",value:m,onChange:a=>S(a.target.value)}),t.employee_id&&j.length>0&&j.find(a=>a.id===t.employee_id)&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(z,{className:"h-4 w-4 text-green-500"})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[j.length===0?"No matching employees found":j.length===1?"1 employee found":`${j.length} employees found`,t.employee_id&&j.find(a=>a.id===t.employee_id)&&" - Employee selected"]}),e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.employee_id?"border-red-500":""}`,value:t.employee_id||"",onChange:a=>h({...t,employee_id:a.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Employee"}),Array.isArray(j)&&j.length>0?j.map(a=>e.jsxs("option",{value:a.id,children:[a.Lname||"",", ",a.Fname||""," ",a.idno?`(${a.idno})`:""]},a.id||`emp-${Math.random()}`)):m?e.jsx("option",{value:"",disabled:!0,children:"No matching employees found"}):e.jsx("option",{value:"",disabled:!0,children:"No employees available"})]})]}),l.employee_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.employee_id}),(!Array.isArray(c)||c.length===0)&&!g&&e.jsx("p",{className:"mt-1 text-xs text-amber-600",children:"No employees loaded. Check the console for more information."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notice Date"}),g?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:t.notice_date?new Date(t.notice_date).toLocaleDateString():"mm/dd/yyyy"}):e.jsx("input",{type:"date",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.notice_date?"border-red-500":""}`,value:t.notice_date||"",onChange:a=>h({...t,notice_date:a.target.value}),required:!0}),l.notice_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.notice_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Date"}),g?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:t.resignation_date?new Date(t.resignation_date).toLocaleDateString():"mm/dd/yyyy"}):e.jsx("input",{type:"date",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.resignation_date?"border-red-500":""}`,value:t.resignation_date||"",onChange:a=>h({...t,resignation_date:a.target.value}),required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Last working day"}),l.resignation_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.resignation_date})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Resignation"}),g?e.jsx("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line min-h-[100px]",children:t.reason||""}):e.jsx("textarea",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.reason?"border-red-500":""}`,value:t.reason||"",onChange:a=>h({...t,reason:a.target.value}),placeholder:"Detailed reason for resignation...",rows:"4",required:!0}),l.reason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.reason})]}),!g&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Letter"}),e.jsx("input",{type:"file",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${l.document?"border-red-500":""}`,onChange:a=>C(a.target.files[0])}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload resignation letter (PDF, DOC)"}),l.document&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l.document})]}),g&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(Y,{status:t.status})})]}),t.document_path&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Letter"}),e.jsxs("a",{href:`/storage/${t.document_path}`,target:"_blank",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"View Document"]})]}),t.approved_by&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved By"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:t.approver?t.approver.name:"Unknown User"})]}),t.approved_at&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved At"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:new Date(t.approved_at).toLocaleString()})]}),t.remarks&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line p-2 border rounded bg-gray-50",children:t.remarks})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(V,{type:"button",variant:"outline",onClick:()=>f(!1),className:"mr-2",children:g?"Close":"Cancel"}),!g&&e.jsxs(V,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(be,{className:"w-4 h-4 mr-2"}),$==="create"?"Save Resignation":"Update Resignation"]})]})]})]})})},Ne=({isOpen:u,onClose:f,resignation:r,onSubmit:t})=>{var l,g,m;const[c,h]=o.useState("approved"),[C,_]=o.useState("");o.useEffect(()=>{u&&(h("approved"),_(""))},[u]);const $=S=>{S.preventDefault(),t({status:c,remarks:C})};return e.jsx(J,{show:u,onClose:f,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Review Resignation Request"}),e.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-500",children:e.jsx(P,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),e.jsxs("div",{className:"p-2 border rounded bg-gray-50",children:[(l=r==null?void 0:r.employee)==null?void 0:l.Fname," ",(g=r==null?void 0:r.employee)==null?void 0:g.Lname," (",(m=r==null?void 0:r.employee)==null?void 0:m.idno,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notice Date"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:new Date(r==null?void 0:r.notice_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Date"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:new Date(r==null?void 0:r.resignation_date).toLocaleDateString()})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line",children:r==null?void 0:r.reason})]}),(r==null?void 0:r.document_path)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Letter"}),e.jsxs("a",{href:`/storage/${r.document_path}`,target:"_blank",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[e.jsx(Q,{className:"mr-2 h-4 w-4"}),"View Document"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"approved",checked:c==="approved",onChange:()=>h("approved"),className:"form-radio h-4 w-4 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Approve"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"rejected",checked:c==="rejected",onChange:()=>h("rejected"),className:"form-radio h-4 w-4 text-red-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Reject"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("textarea",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:C,onChange:S=>_(S.target.value),placeholder:"Add your comments or reasons for the decision",rows:"3"})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(V,{type:"button",variant:"outline",onClick:f,className:"mr-2",children:"Cancel"}),e.jsx(V,{type:"submit",className:c==="approved"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700",children:c==="approved"?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Approve Resignation"]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"w-4 h-4 mr-2"}),"Reject Resignation"]})})]})]})]})})},Je=()=>{const{auth:u}=me().props;u!=null&&u.user;const[f,r]=o.useState([]),[t,c]=o.useState([]),[h,C]=o.useState(!0),[_,$]=o.useState(""),[l,g]=o.useState("all"),[m,S]=o.useState({from:"",to:""}),[j,D]=o.useState({visible:!1,message:"",type:"success"}),a={employee_id:"",notice_date:"",resignation_date:"",reason:"",document_path:null},[x,v]=o.useState(a),[N,b]=o.useState(null),[w,k]=o.useState({}),[T,E]=o.useState(!1),[B,W]=o.useState(!1),[Z,X]=o.useState(!1),[ee,U]=o.useState(!1),[R,q]=o.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),F=o.useCallback(async()=>{var s,d,p;C(!0);try{const n=await A.get("/resignations/list",{params:{search:_,status:l!=="all"?l:null,date_from:m.from||null,date_to:m.to||null}}),y=await A.get("/employees/list",{params:{active_only:!0},headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});console.log("Resignations response:",n.data),console.log("Employees response:",y.data),r(n.data.data||[]),y.data&&y.data.data?c(y.data.data):Array.isArray(y.data)?c(y.data):(console.error("Unexpected employee data format:",y.data),c([]))}catch(n){console.error("Error loading data:",n),console.error("Error details:",(s=n.response)==null?void 0:s.data),L("Error loading data: "+(((p=(d=n.response)==null?void 0:d.data)==null?void 0:p.message)||n.message),"error")}finally{C(!1)}},[_,l,m]);o.useEffect(()=>{F()},[F]);const L=(s,d="success")=>{D({visible:!0,message:s,type:d})},se=()=>{D({...j,visible:!1})},te=he.debounce(s=>{$(s)},300),ae=()=>{v(a),b(null),k({}),E(!0)},re=s=>{v({...s}),b(null),k({}),W(!0)},oe=s=>{v({...s}),X(!0)},le=s=>{v({...s}),U(!0)},G=s=>{b(s)},ne=async s=>{var p,n,y,M,O;s.preventDefault(),k({});const d=new FormData;for(const i in x)x[i]!==null&&x[i]!==void 0&&d.append(i,x[i]);N&&d.append("document",N);try{const i=await A.post("/resignations",d,{headers:{"Content-Type":"multipart/form-data"}});await F(),v(a),b(null),E(!1),L("Resignation created successfully")}catch(i){console.error("Error creating resignation:",i),((p=i.response)==null?void 0:p.status)===422&&((y=(n=i.response)==null?void 0:n.data)!=null&&y.errors)?k(i.response.data.errors):L(((O=(M=i.response)==null?void 0:M.data)==null?void 0:O.message)||"Error creating resignation","error")}},ie=async s=>{var p,n,y,M,O;s.preventDefault(),k({});const d=new FormData;for(const i in x)x[i]!==null&&x[i]!==void 0&&d.append(i,x[i]);N&&d.append("document",N),d.append("_method","PUT");try{const i=await A.post(`/resignations/${x.id}`,d,{headers:{"Content-Type":"multipart/form-data"}});await F(),v(a),b(null),W(!1),L("Resignation updated successfully")}catch(i){console.error("Error updating resignation:",i),((p=i.response)==null?void 0:p.status)===422&&((y=(n=i.response)==null?void 0:n.data)!=null&&y.errors)?k(i.response.data.errors):L(((O=(M=i.response)==null?void 0:M.data)==null?void 0:O.message)||"Error updating resignation","error")}},de=async s=>{var d,p;try{const n=await A.post(`/resignations/${x.id}/status`,s);await F(),U(!1),L(`Resignation ${s.status==="approved"?"approved":"rejected"} successfully`)}catch(n){console.error("Error updating resignation status:",n),L(((p=(d=n.response)==null?void 0:d.data)==null?void 0:p.message)||"Error updating resignation status","error")}},ce=s=>{q({isOpen:!0,title:"Delete Resignation",message:`Are you sure you want to delete this resignation request for ${s.employee.Fname} ${s.employee.Lname}? This action cannot be undone.`,confirmText:"Delete",confirmVariant:"destructive",onConfirm:async()=>{var d,p;try{await A.delete(`/resignations/${s.id}`),await F(),q({...R,isOpen:!1}),L("Resignation deleted successfully")}catch(n){console.error("Error deleting resignation:",n),q({...R,isOpen:!1}),L(((p=(d=n.response)==null?void 0:d.data)==null?void 0:p.message)||"Error deleting resignation","error")}}})};return e.jsxs(pe,{children:[e.jsx(xe,{title:"Employee Resignations"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[e.jsx(ue,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[j.visible&&e.jsx(ve,{message:j.message,type:j.type,onClose:se}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Employee Resignations"}),e.jsx("p",{className:"text-gray-600",children:"Manage employee resignation requests and notices."})]}),e.jsxs(V,{onClick:ae,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center",children:[e.jsx(ge,{className:"w-5 h-5 mr-2"}),"New Resignation"]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(K,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search by employee name...",onChange:s=>te(s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:l,onChange:s=>g(s.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resignation Date"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:m.from,onChange:s=>S({...m,from:s.target.value}),placeholder:"From"})}),e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:m.to,onChange:s=>S({...m,to:s.target.value}),placeholder:"To"})})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-6 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Actions"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Status"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Employee"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Notice Date"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Resignation Date"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Reason"})]}),h&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:"Loading..."}),!h&&f.length===0&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:_||l!=="all"||m.from||m.to?"No resignations found matching your filters.":"No resignations found. Create a new resignation to get started."}),!h&&f.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:f.map(s=>{var d,p,n;return e.jsxs("div",{className:"grid grid-cols-6 items-center hover:bg-gray-50",children:[e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>oe(s),className:"text-gray-400 hover:text-gray-500",title:"View",type:"button",children:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),s.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>re(s),className:"text-gray-400 hover:text-gray-500",title:"Edit",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>le(s),className:"text-gray-400 hover:text-gray-500",title:"Review",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>ce(s),className:"text-gray-400 hover:text-red-500",title:"Delete",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsx(Y,{status:s.status})}),e.jsxs("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(d=s.employee)==null?void 0:d.Lname,", ",(p=s.employee)==null?void 0:p.Fname]}),e.jsx("div",{className:"text-xs text-gray-500",children:(n=s.employee)==null?void 0:n.idno})]}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:new Date(s.notice_date).toLocaleDateString()}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:new Date(s.resignation_date).toLocaleDateString()}),e.jsx("div",{className:"px-6 py-4 col-span-1 text-sm text-gray-500 truncate",children:s.reason})]},s.id)})})]})]})})]}),e.jsx(I,{isOpen:T,onClose:()=>E(!1),title:"Create New Resignation",resignation:x,employees:t,onChange:v,onFileChange:G,onSubmit:ne,mode:"create",errorMessages:w}),e.jsx(I,{isOpen:B,onClose:()=>W(!1),title:"Edit Resignation",resignation:x,employees:t,onChange:v,onFileChange:G,onSubmit:ie,mode:"edit",errorMessages:w}),e.jsx(I,{isOpen:Z,onClose:()=>X(!1),title:"View Resignation Details",resignation:x,employees:t,onChange:v,onFileChange:()=>{},onSubmit:()=>{},mode:"view",errorMessages:{}}),e.jsx(Ne,{isOpen:ee,onClose:()=>U(!1),resignation:x,onSubmit:de}),e.jsx(fe,{isOpen:R.isOpen,onClose:()=>q({...R,isOpen:!1}),title:R.title,message:R.message,confirmText:R.confirmText,confirmVariant:R.confirmVariant,onConfirm:R.onConfirm})]})};export{Je as default};
