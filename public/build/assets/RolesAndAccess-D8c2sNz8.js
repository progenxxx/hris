import{V as A,r as e,b as l,j as s,M as y}from"./app-C_ClQmDY.js";import{A as M}from"./AuthenticatedLayout-3cR_usYW.js";import{S as C}from"./Sidebar-Bhx-DaaE.js";import"./Button-Du7mhroA.js";import{A as N,a as R}from"./alert-CLB16PDI.js";import{l as T}from"./lodash-DJVfGrwh.js";import{C as v}from"./ConfirmModal-D_xoNxPu.js";import"./checkbox-WaPCWkeV.js";import"./ApplicationLogo-BORf3137.js";import"./Dropdown-CHXQRgIL.js";import"./transition-0ACRCynB.js";import"./search-BDKFcNkb.js";import"./createLucideIcon-D1ADp28Z.js";import"./x-Q1lJB2Tb.js";/* empty css                */import"./users-Dr4YdQlV.js";import"./file-text-DMC5LN9m.js";import"./calendar-B28JSqfz.js";import"./clsx-B-dksMZM.js";const Z=()=>{const{auth:o}=A().props||{};o!=null&&o.user,e.useState("roles");const[E,u]=e.useState([]),[w,f]=e.useState([]),[O,x]=e.useState([]),[V,m]=e.useState(!0),[i,g]=e.useState(""),[c,d]=e.useState(null),[a,h]=e.useState("default");e.useState(null),e.useState({name:"",description:"",permissions:[]}),e.useState(!1),e.useState(null),e.useState(!1),e.useState(null);const[t,S]=e.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),p=e.useCallback(async()=>{m(!0);try{const[r,n,b]=await Promise.all([l.get(`/api/roles?search=${i}`),l.get(`/api/users?search=${i}`),l.get("/api/permissions")]);u(r.data.data||[]),f(n.data.data||[]),x(b.data.data||[])}catch(r){console.error("Error loading data:",r),j("Error loading data","error")}finally{m(!1)}},[i]);e.useEffect(()=>{p()},[p]);const j=(r,n="default")=>{d(r),h(n),setTimeout(()=>d(null),3e3)};return e.useCallback(T.debounce(r=>{g(r)},300),[]),s.jsxs(M,{children:[s.jsx(y,{title:"Roles and Access Management"}),s.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[s.jsx(C,{}),s.jsx("div",{className:"flex-1 p-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[c&&s.jsx(N,{className:`mb-4 ${a==="success"?"bg-green-50 border-green-200":a==="error"?"bg-red-50 border-red-200":""}`,children:s.jsx(R,{className:a==="success"?"text-green-700":a==="error"?"text-red-700":"",children:c})}),s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Roles and Access Management"}),s.jsx("p",{className:"text-gray-600",children:"Manage user roles and permissions for system access."})]})})]})})]}),s.jsx(v,{isOpen:t.isOpen,onClose:()=>S({...t,isOpen:!1}),title:t.title,message:t.message,confirmText:t.confirmText,confirmVariant:t.confirmVariant,onConfirm:t.onConfirm})]})};export{Z as default};
