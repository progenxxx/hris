import{a as ye,r as u,c as F,j as e,H as ve,b as O,R as z}from"./app-D-TNKEQL.js";import{A as je}from"./AuthenticatedLayout-PCqsYVxf.js";import{S as we}from"./Sidebar-Cg7Kwp5t.js";import{C as Ne,a as Ce,F as ke,i as De,b as Ee,c as Se,d as Me}from"./index-Cb0NO2fG.js";import{S as N}from"./sweetalert2.esm.all-Y6IUEg8t.js";import{B as v}from"./Button-SjHtsDzU.js";import{C as Te,c as $e}from"./card-qhIlbjIo.js";import{A as te,a as se}from"./alert-ttcl-5kV.js";import{M as Fe}from"./Modal-BZgEdwvb.js";import{C as E}from"./calendar-DhTYrr3L.js";import{U as ae}from"./users-Cw0U-ZsC.js";import{C as V}from"./circle-check-big-BKozuvyq.js";import{C as G}from"./circle-x-Ty60vMKt.js";import{T as re}from"./triangle-alert-CxlByYdl.js";import{S as Pe}from"./search-DZDiwkir.js";import{F as _e}from"./filter-lTp0fuyH.js";import{C as He}from"./clock-D8g538AG.js";import{P as Le}from"./pen-DjejlzQG.js";import"./ApplicationLogo-Cn-MbvX-.js";import"./Dropdown-BOoMuW7P.js";import"./transition-DeCEAfJ2.js";import"./createLucideIcon-DEWnkTLV.js";import"./x-fQrOvEob.js";/* empty css                */import"./file-text-QjoOwKBJ.js";import"./index-CC88eXid.js";import"./clsx-B-dksMZM.js";const Ae=({children:p,defaultValue:d,className:a="",onValueChange:h})=>{const[m,S]=u.useState(d);return u.useEffect(()=>{h&&h(m)},[m,h]),e.jsx("div",{className:a,children:z.Children.map(p,y=>y&&(y.type===ne||y.type===Be)?z.cloneElement(y,{activeTab:m,setActiveTab:S}):y)})},ne=({children:p,activeTab:d,setActiveTab:a,className:h=""})=>e.jsx("div",{className:`flex space-x-1 rounded-lg bg-gray-100 p-1 ${h}`,children:z.Children.map(p,m=>m&&m.type===_?z.cloneElement(m,{activeTab:d,setActiveTab:a}):m)}),_=({children:p,value:d,activeTab:a,setActiveTab:h})=>{const m=a===d;return e.jsx("button",{onClick:()=>h(d),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-all ${m?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:p})},Be=({children:p,value:d,activeTab:a})=>a!==d?null:e.jsx("div",{className:"mt-2",children:p}),Ie=({isOpen:p,onClose:d,event:a,onEdit:h,onMarkCompleted:m,onMarkCancelled:S,onMarkScheduled:y})=>{if(!p||!a)return null;const H=b=>new Date(b).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),W=b=>{switch(b){case"Scheduled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(E,{className:"w-3 h-3 mr-1"}),"Scheduled"]});case"Completed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(V,{className:"w-3 h-3 mr-1"}),"Completed"]});case"Cancelled":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Cancelled"]});case"Postponed":return e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(re,{className:"w-3 h-3 mr-1"}),"Postponed"]});default:return e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:b})}},L=b=>a.eventType==="meeting"?"Meeting":"Event",C=()=>a.eventType==="meeting"?a.participants||[]:a.attendees||[],K=()=>{d(),h(a)},k=()=>{d(),m(a.id,a.eventType)},X=()=>{d(),S(a.id,a.eventType)},D=()=>{d(),y(a.id,a.eventType)},M=C(),A=M?M.length:0;return e.jsxs(Fe,{show:p,onClose:d,title:`${L(a.eventType)} Details`,children:[e.jsx("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-900",children:a.title}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[e.jsx(E,{className:"h-4 w-4 mr-2 text-indigo-500"}),e.jsxs("span",{children:[H(a.start)," - ",H(a.end)]})]}),e.jsxs("div",{className:"flex items-center text-gray-600 mb-4",children:[e.jsx(He,{className:"h-4 w-4 mr-2 text-indigo-500"}),e.jsx("span",{children:a.eventType==="meeting"?"Meeting":"Event"})]}),e.jsx("div",{className:"mb-4",children:W(a.status)}),e.jsxs("div",{className:"mb-4 bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-800",children:"Description"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a.eventType==="meeting"?a.agenda||"No agenda provided.":a.description||"No description provided."})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-2 text-gray-800 flex items-center",children:[e.jsx(ae,{className:"w-4 h-4 mr-2 text-indigo-500"}),a.eventType==="meeting"?"Participants":"Attendees"," (",A,")"]}),A>0?e.jsx("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:`${b.Fname||""} ${b.Lname||""}`}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b.Department||"-"})]},b.id))})]})}):e.jsxs("p",{className:"text-gray-500 italic",children:["No ",a.eventType==="meeting"?"participants":"attendees"," added."]})]})]})}),e.jsx("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-b-lg border-t",children:e.jsxs("div",{className:"flex space-x-2",children:[a.status!=="Completed"&&e.jsxs(v,{onClick:k,className:"bg-blue-600 hover:bg-blue-700 shadow-sm",children:[e.jsx(V,{className:"h-4 w-4 mr-1"})," Mark as Completed"]}),a.status!=="Cancelled"&&e.jsxs(v,{onClick:X,variant:"destructive",className:"shadow-sm",children:[e.jsx(G,{className:"h-4 w-4 mr-1"})," Cancel"]}),(a.status==="Cancelled"||a.status==="Postponed")&&e.jsxs(v,{onClick:D,className:"bg-green-600 hover:bg-green-700 shadow-sm",children:[e.jsx(E,{className:"h-4 w-4 mr-1"})," Mark as Scheduled"]}),e.jsxs(v,{onClick:K,variant:"secondary",className:"shadow-sm",children:[e.jsx(Le,{className:"h-4 w-4 mr-1"})," Edit"]}),e.jsx(v,{onClick:d,variant:"outline",className:"shadow-sm",children:"Close"})]})})]})},Re=()=>e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4 p-4 bg-white rounded-lg border border-gray-100 shadow-sm text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 mr-2 rounded-full bg-purple-500 shadow-sm"}),e.jsx("span",{className:"text-gray-700",children:"Events (Scheduled)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 mr-2 rounded-full bg-emerald-500 shadow-sm"}),e.jsx("span",{className:"text-gray-700",children:"Meetings (Scheduled)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 mr-2 rounded-full bg-blue-500 shadow-sm"}),e.jsx("span",{className:"text-gray-700",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 mr-2 rounded-full bg-red-500 shadow-sm"}),e.jsx("span",{className:"text-gray-700",children:"Cancelled"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-4 h-4 mr-2 rounded-full bg-amber-500 shadow-sm"}),e.jsx("span",{className:"text-gray-700",children:"Postponed"})]})]}),P=({icon:p,title:d,count:a,color:h})=>e.jsx(Te,{className:"border-t-4 shadow-md hover:shadow-lg transition-shadow duration-200",style:{borderTopColor:h},children:e.jsx($e,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:d}),e.jsx("p",{className:"text-2xl font-bold",children:a})]}),e.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:`${h}20`},children:p})]})})}),ht=()=>{const{auth:p,flash:d}=ye().props,[a,h]=u.useState([]),[m,S]=u.useState([]),[y,H]=u.useState([]),[W,L]=u.useState(!0),[C,K]=u.useState(""),[k,X]=u.useState(""),[D,M]=u.useState(""),[A,b]=u.useState([]),[B,le]=u.useState(!1),[oe,q]=u.useState(!1),[ie,U]=u.useState(null),[I,de]=u.useState("calendar"),[Y,J]=u.useState(null),ce=u.useRef(null);u.useEffect(()=>{T(),ue()},[]);const T=async()=>{L(!0),J(null);try{const t=await F.get("/hr-calendar/data",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},params:{search:C,department:k,status:D}}),n=t.data.events||[],o=t.data.meetings||[],r=me(n,o);h(n),S(o),H(r)}catch(t){console.error("Error fetching data:",t),J("Failed to load calendar data. Please try again later."),N.fire({title:"Error!",text:"Failed to load calendar data. Please try again later.",icon:"error",confirmButtonText:"OK",customClass:{confirmButton:"btn btn-primary"}})}finally{L(!1)}},me=(t,n)=>{const o=[];return t.forEach(r=>{const s=new Date(r.start_time),l=new Date(r.end_time),c=ee(s,r.code||"dawd");if(Q(s,l))o.push({id:`event_${r.id}`,title:c,start:s,end:l,allDay:!1,extendedProps:{type:"event",status:r.status,originalEvent:r},backgroundColor:R("event",r.status),display:"block"});else{const x=Z(s,l);for(let f=0;f<=x;f++){const g=new Date(s);g.setDate(s.getDate()+f);const j=f===0,w=f===x;let i={id:`event_${r.id}_day_${f}`,title:c,start:new Date(g),allDay:!(j||w),extendedProps:{type:"event",status:r.status,originalEvent:r,isMultiDay:!0,dayPart:j?"start":w?"end":"middle"},backgroundColor:R("event",r.status),display:"block"};j?(i.start=s,i.end=new Date(g),i.end.setHours(23,59,59)):w?(i.start=new Date(g),i.start.setHours(0,0,0),i.end=l):(i.start=new Date(g),i.start.setHours(0,0,0),i.end=new Date(g),i.end.setHours(23,59,59)),o.push(i)}}}),n.forEach(r=>{const s=new Date(r.start_time),l=new Date(r.end_time),c=ee(s,r.code||"DAW");if(Q(s,l))o.push({id:`meeting_${r.id}`,title:c,start:s,end:l,allDay:!1,extendedProps:{type:"meeting",status:r.status,originalEvent:r},backgroundColor:R("meeting",r.status),display:"block"});else{const x=Z(s,l);for(let f=0;f<=x;f++){const g=new Date(s);g.setDate(s.getDate()+f);const j=f===0,w=f===x;let i={id:`meeting_${r.id}_day_${f}`,title:c,start:new Date(g),allDay:!(j||w),extendedProps:{type:"meeting",status:r.status,originalEvent:r,isMultiDay:!0,dayPart:j?"start":w?"end":"middle"},backgroundColor:R("meeting",r.status),display:"block"};j?(i.start=s,i.end=new Date(g),i.end.setHours(23,59,59)):w?(i.start=new Date(g),i.start.setHours(0,0,0),i.end=l):(i.start=new Date(g),i.start.setHours(0,0,0),i.end=new Date(g),i.end.setHours(23,59,59)),o.push(i)}}}),o},Q=(t,n)=>t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()&&t.getDate()===n.getDate(),Z=(t,n)=>{const r=new Date(t);r.setHours(0,0,0,0);const s=new Date(n);return s.setHours(0,0,0,0),Math.round(Math.abs((s-r)/864e5))},ee=(t,n)=>{const o=t.getHours(),r=t.getMinutes(),s=o>=12?"PM":"AM",l=o%12||12,c=r<10?`0${r}`:r;return`${l}:${c} ${s} ${n}`},ue=async()=>{try{const t=await F.get("/hr-calendar/departments",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});t.data&&b(t.data)}catch(t){console.error("Error fetching departments:",t)}},R=(t,n)=>n==="Cancelled"?"#ef4444":n==="Postponed"?"#f59e0b":n==="Completed"?"#3b82f6":t==="event"?"#8b5cf6":"#10b981";u.useEffect(()=>{(C||k||D)&&T()},[C,k,D]);const xe=t=>{const{event:n}=t,o=n.extendedProps;let s=n.backgroundColor,l=null;return o.status==="Cancelled"?l=e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-red-500 mr-1"}):o.status==="Postponed"?l=e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-amber-500 mr-1"}):o.status==="Completed"&&(l=e.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-blue-500 mr-1"})),e.jsx("div",{className:"fc-event-custom",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-1",style:{backgroundColor:s}}),l,e.jsx("span",{className:"truncate text-xs",children:n.title})]})})},pe=t=>{const n=t.event,o=n.extendedProps,r=o.originalEvent;if(o.isMultiDay){const s=o.type,l=r.id;let c=null;if(s==="event"?c=a.find(x=>x.id===l):c=m.find(x=>x.id===l),c){const x={...c,start:c.start_time,end:c.end_time,id:`${s}_${c.id}`,eventType:s};U(x),q(!0)}}else{const s=n.id;let l=null;if(s.startsWith("event_")){const c=s.split("_")[1];l=a.find(x=>x.id===c),l&&(l.eventType="event")}else if(s.startsWith("meeting_")){const c=s.split("_")[1];l=m.find(x=>x.id===c),l&&(l.eventType="meeting")}if(l){const c={...l,start:l.start_time,end:l.end_time,id:s};U(c),q(!0)}}},he=t=>{t.eventType==="event"?O.visit("/events",{data:{editEventId:t.id}}):O.visit("/meetings",{data:{editMeetingId:t.id}})},fe=(t,n)=>{const o=typeof t=="string"&&t.includes("_")?t.split("_")[1]:t,r=n==="event"?`/events/${o}/update-status`:`/meetings/${o}/mark-completed`,s=n==="event"?{status:"Completed"}:{};F.post(r,s).then(l=>{N.fire({title:"Success!",text:`${n==="event"?"Event":"Meeting"} marked as completed.`,icon:"success",confirmButtonText:"OK",customClass:{confirmButton:"btn btn-primary"}}),T()}).catch(l=>{console.error("Error updating status:",l),N.fire({title:"Error!",text:`Failed to mark ${n} as completed.`,icon:"error",confirmButtonText:"OK"})})},ge=(t,n)=>{const o=typeof t=="string"&&t.includes("_")?t.split("_")[1]:t,r=n==="event"?`/events/${o}/update-status`:`/meetings/${o}/mark-cancelled`,s=n==="event"?{status:"Cancelled"}:{};F.post(r,s).then(l=>{N.fire({title:"Success!",text:`${n==="event"?"Event":"Meeting"} marked as cancelled.`,icon:"success",confirmButtonText:"OK"}),T()}).catch(l=>{console.error("Error updating status:",l),N.fire({title:"Error!",text:`Failed to mark ${n} as cancelled.`,icon:"error",confirmButtonText:"OK"})})},be=(t,n)=>{const o=typeof t=="string"&&t.includes("_")?t.split("_")[1]:t,r=n==="event"?`/events/${o}/update-status`:`/meetings/${o}/mark-scheduled`,s=n==="event"?{status:"Scheduled"}:{};F.post(r,s).then(l=>{N.fire({title:"Success!",text:`${n==="event"?"Event":"Meeting"} marked as scheduled.`,icon:"success",confirmButtonText:"OK"}),T()}).catch(l=>{console.error("Error updating status:",l),N.fire({title:"Error!",text:`Failed to mark ${n} as scheduled.`,icon:"error",confirmButtonText:"OK"})})},$=(()=>{const t=a.filter(s=>s.status==="Scheduled").length+m.filter(s=>s.status==="Scheduled").length,n=a.filter(s=>s.status==="Completed").length+m.filter(s=>s.status==="Completed").length,o=a.filter(s=>s.status==="Cancelled").length+m.filter(s=>s.status==="Cancelled").length,r=a.filter(s=>s.status==="Postponed").length+m.filter(s=>s.status==="Postponed").length;return{scheduled:t,completed:n,cancelled:o,postponed:r,total:a.length+m.length}})();return e.jsxs(je,{user:p.user,children:[e.jsx(ve,{title:"HR Calendar"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[e.jsx(we,{}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[(d==null?void 0:d.message)&&e.jsx(te,{className:"mb-6",children:e.jsx(se,{children:d.message})}),Y&&e.jsx(te,{className:"mb-6 bg-red-50 border border-red-200 text-red-800",children:e.jsx(se,{className:"text-red-700",children:Y})}),e.jsx("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-1 flex items-center",children:[e.jsx(Ne,{className:"h-6 w-6 mr-2 text-indigo-600"}),"HR Calendar"]}),e.jsx("p",{className:"text-gray-600",children:"View and manage all your meetings and events in one place."})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(v,{onClick:()=>O.visit("/events",{data:{openEventForm:!0}}),className:"bg-purple-600 hover:bg-purple-700 shadow-sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Create Event"]}),e.jsxs(v,{onClick:()=>O.visit("/meetings",{data:{openMeetingForm:!0}}),className:"bg-emerald-600 hover:bg-emerald-700 shadow-sm",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Schedule Meeting"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsx(P,{icon:e.jsx(E,{className:"h-5 w-5 text-indigo-600"}),title:"Total Events",count:$.total,color:"#6366f1"}),e.jsx(P,{icon:e.jsx(E,{className:"h-5 w-5 text-emerald-600"}),title:"Scheduled",count:$.scheduled,color:"#10b981"}),e.jsx(P,{icon:e.jsx(V,{className:"h-5 w-5 text-blue-600"}),title:"Completed",count:$.completed,color:"#3b82f6"}),e.jsx(P,{icon:e.jsx(G,{className:"h-5 w-5 text-red-600"}),title:"Cancelled",count:$.cancelled,color:"#ef4444"}),e.jsx(P,{icon:e.jsx(re,{className:"h-5 w-5 text-amber-600"}),title:"Postponed",count:$.postponed,color:"#f59e0b"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx(Pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx("input",{type:"text",placeholder:"Search events and meetings...",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow",value:C,onChange:t=>K(t.target.value)})]}),e.jsxs("div",{className:"inline-flex",children:[e.jsxs(v,{variant:"outline",onClick:()=>le(!B),className:"flex items-center shadow-sm hover:bg-gray-50",children:[e.jsx(_e,{className:"h-4 w-4 mr-2 text-indigo-500"}),"Filters",e.jsx(Ce,{className:`h-4 w-4 ml-2 transform ${B?"rotate-180":""} text-indigo-500`})]}),e.jsx(Ae,{defaultValue:I,onValueChange:de,className:"ml-4",children:e.jsxs(ne,{className:"bg-gray-100 shadow-inner",children:[e.jsx(_,{value:"calendar",children:"Calendar"}),e.jsx(_,{value:"month",children:"Month"}),e.jsx(_,{value:"week",children:"Week"}),e.jsx(_,{value:"list",children:"List"})]})})]})]}),B&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4 pt-4 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"departmentFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),e.jsxs("select",{id:"departmentFilter",className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:k,onChange:t=>X(t.target.value),children:[e.jsx("option",{value:"",children:"All Departments"}),A.map((t,n)=>e.jsx("option",{value:t.name||t,children:t.name||t},n))]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"statusFilter",className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",value:D,onChange:t=>M(t.target.value),children:[e.jsx("option",{value:"",children:"All Statuses"}),e.jsx("option",{value:"Scheduled",children:"Scheduled"}),e.jsx("option",{value:"Completed",children:"Completed"}),e.jsx("option",{value:"Cancelled",children:"Cancelled"}),e.jsx("option",{value:"Postponed",children:"Postponed"})]})]})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 overflow-hidden",children:W?e.jsx("div",{className:"h-96 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading calendar..."})]})}):e.jsxs("div",{className:"h-auto",children:[e.jsx("div",{className:"calendar-wrapper rounded-lg overflow-hidden",children:e.jsx(ke,{ref:ce,plugins:[De,Ee,Se,Me],initialView:I==="calendar"||I==="month"?"dayGridMonth":I==="week"?"timeGridWeek":"listMonth",headerToolbar:{left:"prev,next today",center:"title",right:""},events:y,eventClick:pe,height:"auto",allDaySlot:!0,slotDuration:"00:30:00",slotLabelInterval:{hours:1},navLinks:!0,dayMaxEvents:5,eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!0},buttonText:{today:"Today",month:"Month",week:"Week",day:"Day",list:"List"},eventContent:xe,contentHeight:600,eventBorderColor:"#ffffff",eventClassNames:"time-event-item rounded-md py-1 px-2 text-white shadow-sm",dayHeaderClassNames:"text-gray-700 uppercase text-xs font-semibold",slotLabelClassNames:"text-gray-600 text-xs",eventDisplay:"block"})}),e.jsx(Re,{})]})}),e.jsx(Ie,{isOpen:oe,onClose:()=>q(!1),event:ie,onEdit:he,onMarkCompleted:fe,onMarkCancelled:ge,onMarkScheduled:be})]})})]}),e.jsx("style",{jsx:!0,global:!0,children:`
                /* Calendar Styling */
                .fc .fc-button-primary {
                    background-color: #4f46e5;
                    border-color: #4f46e5;
                    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
                }
                
                .fc .fc-button-primary:hover {
                    background-color: #4338ca;
                    border-color: #4338ca;
                }
                
                .fc .fc-button-primary:disabled {
                    background-color: #6366f1;
                    border-color: #6366f1;
                    opacity: 0.7;
                }
                
                .fc .fc-daygrid-day-top {
                    padding: 6px;
                }
                
                .fc .fc-daygrid-day-number {
                    font-size: 0.9rem;
                    font-weight: 500;
                }
                
                .fc .fc-toolbar-title {
                    font-size: 1.25rem;
                    font-weight: 600;
                    color: #1f2937;
                }
                
                /* Improved event styling for time display format */
                .fc-event-custom {
                    margin: 1px 0;
                    padding: 1px 2px;
                    border-radius: 3px;
                    background-color: rgba(255, 255, 255, 0.9);
                    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
                    color: #333;
                }
                
                /* Apply custom colors to specific events by type/status */
                .time-event-item {
                    border-left-width: 4px !important;
                    background-color: #ffffff !important;
                    color: #374151 !important;
                    font-size: 0.75rem !important;
                    line-height: 1.2 !important;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                }
                
                /* Cancel and remove default background colors */
                .fc .fc-event, 
                .fc .fc-event .fc-event-main {
                    background-color: transparent !important;
                    border: none !important;
                }
                
                /* Event time style */
                .fc .fc-event-time {
                    font-weight: 600;
                    font-size: 0.75rem;
                }
                
                /* Fix for multi-day event display */
                .fc-event-main-frame {
                    display: flex !important;
                    align-items: center !important;
                }
                
                .fc .fc-day-today {
                    background-color: rgba(79, 70, 229, 0.06) !important;
                }
                
                .fc .fc-list-day-cushion {
                    background-color: #f3f4f6;
                }
                
                .fc .fc-timegrid-slot-label {
                    font-size: 0.8rem;
                }
                
                .fc-theme-standard td, .fc-theme-standard th {
                    border-color: #e5e7eb;
                }
                
                .fc-theme-standard .fc-scrollgrid {
                    border-color: #e5e7eb;
                }
                
                /* Enhanced "more" button styling */
                .fc-daygrid-more-link {
                    background-color: rgba(79, 70, 229, 0.1);
                    color: #4f46e5 !important;
                    font-weight: 500;
                    border-radius: 12px;
                    padding: 2px 6px;
                    margin-top: 2px;
                    text-align: center;
                    font-size: 0.7rem;
                }
                
                /* Responsive adjustments */
                @media (max-width: 768px) {
                    .fc .fc-toolbar-title {
                        font-size: 1.1rem;
                    }
                    
                    .fc .fc-daygrid-day-number {
                        font-size: 0.8rem;
                    }
                    
                    .time-event-item {
                        font-size: 0.7rem !important;
                    }
                }
            `})]})};export{ht as default};
