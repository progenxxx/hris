import{V as ce,r as l,b as A,j as e,M as me}from"./app-C_ClQmDY.js";import{A as xe}from"./AuthenticatedLayout-3cR_usYW.js";import{S as ue}from"./Sidebar-Bhx-DaaE.js";import{B as M}from"./Button-Du7mhroA.js";import"./alert-CLB16PDI.js";import{l as pe}from"./lodash-DJVfGrwh.js";import{M as K}from"./Modal-ClAHGT5r.js";import{C as he}from"./ConfirmModal-D_xoNxPu.js";import{P as fe}from"./plus-D1sl-ovH.js";import{S as Q}from"./search-BDKFcNkb.js";import{X as H}from"./x-Q1lJB2Tb.js";import{C as X}from"./circle-check-big-CRb1LywB.js";import{C as G}from"./circle-x-CQhehAg2.js";import{C as ge}from"./clock-CtBUUqYK.js";import{F as z}from"./file-text-DMC5LN9m.js";import{S as je}from"./save-BXp290R1.js";import{C as be}from"./check-D3tZ-Yap.js";import"./ApplicationLogo-BORf3137.js";import"./Dropdown-CHXQRgIL.js";import"./transition-0ACRCynB.js";import"./createLucideIcon-D1ADp28Z.js";/* empty css                */import"./users-Dr4YdQlV.js";import"./calendar-B28JSqfz.js";import"./clsx-B-dksMZM.js";import"./index-DsTYaH8m.js";const ye=({message:h,type:f,onClose:r})=>{l.useEffect(()=>{const C=setTimeout(()=>{r()},3e3);return()=>clearTimeout(C)},[r]);const s=f==="success"?"bg-green-50 border-green-200":"bg-red-50 border-red-200",m=f==="success"?"text-green-700":"text-red-700",x=f==="success"?e.jsx(be,{className:"h-5 w-5 text-green-500"}):e.jsx(G,{className:"h-5 w-5 text-red-500"});return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center p-4 mb-4 rounded-lg shadow-md border ${s}`,role:"alert",children:[e.jsx("div",{className:"inline-flex items-center justify-center flex-shrink-0 w-8 h-8 rounded-lg",children:x}),e.jsx("div",{className:`ml-3 text-sm font-normal ${m}`,children:h}),e.jsx("button",{type:"button",className:`ml-auto -mx-1.5 -my-1.5 rounded-lg focus:ring-2 p-1.5 inline-flex h-8 w-8 ${m} hover:bg-gray-100`,onClick:r,"aria-label":"Close",children:e.jsx(H,{className:"w-5 h-5"})})]})},Y=({status:h})=>h==="approved"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Approved"]}):h==="rejected"?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(G,{className:"w-3 h-3 mr-1"}),"Rejected"]}):e.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(ge,{className:"w-3 h-3 mr-1"}),"Pending"]}),U=({isOpen:h,onClose:f,title:r,termination:s,employees:m,onChange:x,onSubmit:C,mode:k="create",errorMessages:o={}})=>{const c=k==="view",[y,N]=l.useState(""),[i,b]=l.useState([]),[_,D]=l.useState(null);l.useEffect(()=>{if(!Array.isArray(m)){b([]);return}if(!y.trim()){b(m);return}const t=y.toLowerCase(),d=m.filter(g=>{const j=(g.Fname||"").toLowerCase(),w=(g.Lname||"").toLowerCase(),L=(g.idno||"").toLowerCase(),F=`${j} ${w}`.toLowerCase(),E=`${w} ${j}`.toLowerCase();return j.includes(t)||w.includes(t)||L.includes(t)||F.includes(t)||E.includes(t)});b(d)},[y,m]),l.useEffect(()=>{if(!y.trim()||!Array.isArray(i)||i.length===0)return;const t=y.toLowerCase(),d=i.find(g=>{const j=(g.Fname||"").toLowerCase(),w=(g.Lname||"").toLowerCase(),L=(g.idno||"").toLowerCase(),F=`${j} ${w}`.toLowerCase(),E=`${w} ${j}`.toLowerCase(),B=`${w}, ${j} (${L})`.toLowerCase();return j===t||w===t||L===t||F===t||E===t||B===t});d&&d.id!==s.employee_id&&x({...s,employee_id:d.id})},[y,i,s.employee_id,x]),l.useEffect(()=>{h&&(N(""),b(m||[]),D(null))},[h,m]);const I=t=>{t.target.files&&t.target.files[0]&&D(t.target.files[0])},$=t=>{t.preventDefault();const d=new FormData;Object.keys(s).forEach(g=>{s[g]!==null&&s[g]!==void 0&&d.append(g,s[g])}),_&&d.append("document",_),C(t,d)};return e.jsx(K,{show:h,onClose:f,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:r}),e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),c?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.employee?`${s.employee.Lname||""}, ${s.employee.Fname||""} ${s.employee.idno?`(${s.employee.idno})`:""}`:"Unknown Employee"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative mb-2",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-4 w-4 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",placeholder:"Search employees by name or ID...",value:y,onChange:t=>N(t.target.value)}),s.employee_id&&i.length>0&&i.find(t=>t.id===s.employee_id)&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx(X,{className:"h-4 w-4 text-green-500"})})]}),e.jsxs("div",{className:"text-xs text-gray-500 mb-2",children:[i.length===0?"No matching employees found":i.length===1?"1 employee found":`${i.length} employees found`,s.employee_id&&i.find(t=>t.id===s.employee_id)&&" - Employee selected"]}),e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.employee_id?"border-red-500":""}`,value:s.employee_id||"",onChange:t=>x({...s,employee_id:t.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Employee"}),Array.isArray(i)&&i.length>0?i.map(t=>e.jsxs("option",{value:t.id,children:[t.Lname||"",", ",t.Fname||""," ",t.idno?`(${t.idno})`:""]},t.id||`emp-${Math.random()}`)):y?e.jsx("option",{value:"",disabled:!0,children:"No matching employees found"}):e.jsx("option",{value:"",disabled:!0,children:"No employees available"})]})]}),o.employee_id&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Type"}),c?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.termination_type||""}):e.jsxs("select",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.termination_type?"border-red-500":""}`,value:s.termination_type||"",onChange:t=>x({...s,termination_type:t.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Termination Type"}),e.jsx("option",{value:"Voluntary Resignation",children:"Voluntary Resignation"}),e.jsx("option",{value:"Contract Completion",children:"Contract Completion"}),e.jsx("option",{value:"Performance Issues",children:"Performance Issues"}),e.jsx("option",{value:"Code of Conduct Violation",children:"Code of Conduct Violation"}),e.jsx("option",{value:"Layoff",children:"Layoff"}),e.jsx("option",{value:"Retirement",children:"Retirement"}),e.jsx("option",{value:"Other",children:"Other"})]}),o.termination_type&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.termination_type})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notice Date"}),c?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.notice_date?new Date(s.notice_date).toLocaleDateString():""}):e.jsx("input",{type:"date",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.notice_date?"border-red-500":""}`,value:s.notice_date||"",onChange:t=>x({...s,notice_date:t.target.value}),required:!0}),o.notice_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.notice_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Date"}),c?e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:s.termination_date?new Date(s.termination_date).toLocaleDateString():""}):e.jsx("input",{type:"date",className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.termination_date?"border-red-500":""}`,value:s.termination_date||"",onChange:t=>x({...s,termination_date:t.target.value}),required:!0}),o.termination_date&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.termination_date})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),c?e.jsx("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line min-h-[100px]",children:s.reason||""}):e.jsx("textarea",{className:`w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent ${o.reason?"border-red-500":""}`,value:s.reason||"",onChange:t=>x({...s,reason:t.target.value}),placeholder:"Detailed explanation for termination",rows:"3",required:!0}),o.reason&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.reason})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Document"}),c?s.document_path?e.jsxs("div",{className:"p-2 border rounded bg-gray-50 flex items-center",children:[e.jsx(z,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("a",{href:`/storage/${s.document_path}`,target:"_blank",className:"text-blue-600 hover:underline",children:"View Document"})]}):e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:"No document attached"}):e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("input",{type:"file",className:`block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 ${o.document?"border-red-500":""}`,onChange:I,accept:".pdf,.doc,.docx"}),_&&e.jsx("span",{className:"ml-2 text-xs text-gray-500",children:_.name}),s.document_path&&!_&&e.jsxs("div",{className:"ml-2 flex items-center",children:[e.jsx(z,{className:"h-4 w-4 text-gray-400 mr-1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Current document will be kept unless replaced"})]})]}),o.document&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.document})]}),c&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsx("div",{className:"mt-1",children:e.jsx(Y,{status:s.status})})]}),s.approved_by&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved By"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:s.approver?s.approver.name:"Unknown User"})]}),s.approved_at&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Approved At"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900",children:new Date(s.approved_at).toLocaleString()})]}),s.remarks&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("div",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:s.remarks})]})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(M,{type:"button",variant:"outline",onClick:()=>f(!1),className:"mr-2",children:c?"Close":"Cancel"}),!c&&e.jsxs(M,{type:"submit",className:"bg-blue-600 text-white hover:bg-blue-700",children:[e.jsx(je,{className:"w-4 h-4 mr-2"}),k==="create"?"Submit Termination":"Update Termination"]})]})]})]})})},ve=({isOpen:h,onClose:f,termination:r,onSubmit:s})=>{var c,y,N;const[m,x]=l.useState("approved"),[C,k]=l.useState("");l.useEffect(()=>{h&&(x("approved"),k(""))},[h]);const o=i=>{i.preventDefault(),s({status:m,remarks:C})};return e.jsx(K,{show:h,onClose:f,maxWidth:"md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Review Termination Request"}),e.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-500",children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee"}),e.jsxs("div",{className:"p-2 border rounded bg-gray-50",children:[(c=r==null?void 0:r.employee)==null?void 0:c.Fname," ",(y=r==null?void 0:r.employee)==null?void 0:y.Lname," (",(N=r==null?void 0:r.employee)==null?void 0:N.idno,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Type"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:r==null?void 0:r.termination_type})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Date"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50",children:r!=null&&r.termination_date?new Date(r.termination_date).toLocaleDateString():""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),e.jsx("div",{className:"p-2 border rounded bg-gray-50 whitespace-pre-line",children:r==null?void 0:r.reason})]}),(r==null?void 0:r.document_path)&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Document"}),e.jsxs("div",{className:"p-2 border rounded bg-gray-50 flex items-center",children:[e.jsx(z,{className:"h-5 w-5 text-gray-500 mr-2"}),e.jsx("a",{href:`/storage/${r.document_path}`,target:"_blank",className:"text-blue-600 hover:underline",children:"View Document"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Decision"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"approved",checked:m==="approved",onChange:()=>x("approved"),className:"form-radio h-4 w-4 text-green-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Approve"})]}),e.jsxs("label",{className:"inline-flex items-center",children:[e.jsx("input",{type:"radio",name:"status",value:"rejected",checked:m==="rejected",onChange:()=>x("rejected"),className:"form-radio h-4 w-4 text-red-600"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Reject"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remarks"}),e.jsx("textarea",{className:"w-full p-2 border rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:C,onChange:i=>k(i.target.value),placeholder:"Add your comments or reasons for the decision",rows:"3"})]}),e.jsxs("div",{className:"flex justify-end mt-6",children:[e.jsx(M,{type:"button",variant:"outline",onClick:f,className:"mr-2",children:"Cancel"}),e.jsx(M,{type:"submit",className:m==="approved"?"bg-green-600 text-white hover:bg-green-700":"bg-red-600 text-white hover:bg-red-700",children:m==="approved"?e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Approve Termination"]}):e.jsxs(e.Fragment,{children:[e.jsx(G,{className:"w-4 h-4 mr-2"}),"Reject Termination"]})})]})]})]})})},Ge=()=>{const{auth:h}=ce().props;h!=null&&h.user;const[f,r]=l.useState([]),[s,m]=l.useState([]),[x,C]=l.useState(!0),[k,o]=l.useState(""),[c,y]=l.useState("all"),[N,i]=l.useState("all"),[b,_]=l.useState({from:"",to:""}),[D,I]=l.useState({visible:!1,message:"",type:"success"}),$={employee_id:"",termination_type:"",notice_date:"",termination_date:"",reason:""},[t,d]=l.useState($),[g,j]=l.useState({}),[w,L]=l.useState(!1),[F,E]=l.useState(!1),[B,J]=l.useState(!1),[Z,W]=l.useState(!1),[S,P]=l.useState({isOpen:!1,title:"",message:"",confirmText:"",confirmVariant:"destructive",onConfirm:()=>{}}),R=l.useCallback(async()=>{var a,u;C(!0);try{const[n,p]=await Promise.all([A.get("/terminations/list",{params:{search:k,status:c!=="all"?c:null,termination_type:N!=="all"?N:null,date_from:b.from||null,date_to:b.to||null}}),A.get("/employees/list",{params:{active_only:!0}})]);r(n.data.data||[]),m(p.data.data||[])}catch(n){console.error("Error loading data:",n),T("Error loading data: "+(((u=(a=n.response)==null?void 0:a.data)==null?void 0:u.message)||n.message),"error")}finally{C(!1)}},[k,c,N,b]);l.useEffect(()=>{R()},[R]);const T=(a,u="success")=>{I({visible:!0,message:a,type:u})},ee=()=>{I({...D,visible:!1})},se=pe.debounce(a=>{o(a)},300),te=()=>{d($),j({}),L(!0)},ae=a=>{d({...a}),j({}),E(!0)},re=a=>{d({...a}),J(!0)},le=a=>{d({...a}),W(!0)},oe=async(a,u)=>{var n,p,V,O,q;a.preventDefault(),j({});try{const v=await A.post("/terminations",u,{headers:{"Content-Type":"multipart/form-data"}});await R(),d($),L(!1),T("Termination request submitted successfully")}catch(v){console.error("Error creating termination:",v),((n=v.response)==null?void 0:n.status)===422&&((V=(p=v.response)==null?void 0:p.data)!=null&&V.errors)?j(v.response.data.errors):T(((q=(O=v.response)==null?void 0:O.data)==null?void 0:q.message)||"Error submitting termination request","error")}},ne=async(a,u)=>{var n,p,V,O,q;a.preventDefault(),j({});try{const v=await A.post(`/terminations/${t.id}?_method=PUT`,u,{headers:{"Content-Type":"multipart/form-data"}});await R(),d($),E(!1),T("Termination request updated successfully")}catch(v){console.error("Error updating termination:",v),((n=v.response)==null?void 0:n.status)===422&&((V=(p=v.response)==null?void 0:p.data)!=null&&V.errors)?j(v.response.data.errors):T(((q=(O=v.response)==null?void 0:O.data)==null?void 0:q.message)||"Error updating termination request","error")}},ie=async a=>{var u,n;try{const p=await A.post(`/terminations/${t.id}/status`,a);await R(),W(!1),T(`Termination request ${a.status==="approved"?"approved":"rejected"} successfully`)}catch(p){console.error("Error updating termination status:",p),T(((n=(u=p.response)==null?void 0:u.data)==null?void 0:n.message)||"Error updating termination status","error")}},de=a=>{P({isOpen:!0,title:"Delete Termination Request",message:`Are you sure you want to delete this termination request for ${a.employee.Fname} ${a.employee.Lname}? This action cannot be undone.`,confirmText:"Delete",confirmVariant:"destructive",onConfirm:async()=>{var u,n;try{await A.delete(`/terminations/${a.id}`),await R(),P({...S,isOpen:!1}),T("Termination request deleted successfully")}catch(p){console.error("Error deleting termination:",p),P({...S,isOpen:!1}),T(((n=(u=p.response)==null?void 0:u.data)==null?void 0:n.message)||"Error deleting termination request","error")}}})};return e.jsxs(xe,{children:[e.jsx(me,{title:"Employee Terminations"}),e.jsxs("div",{className:"flex min-h-screen bg-gray-50/50",children:[e.jsx(ue,{}),e.jsx("div",{className:"flex-1 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[D.visible&&e.jsx(ye,{message:D.message,type:D.type,onClose:ee}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Employee Terminations"}),e.jsx("p",{className:"text-gray-600",children:"Manage employee termination requests and exit procedures."})]}),e.jsxs(M,{onClick:te,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center",children:[e.jsx(fe,{className:"w-5 h-5 mr-2"}),"New Termination"]})]}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(Q,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Search by employee or reason...",onChange:a=>se(a.target.value)})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c,onChange:a=>y(a.target.value),children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Type"}),e.jsxs("select",{className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:N,onChange:a=>i(a.target.value),children:[e.jsx("option",{value:"all",children:"All Types"}),e.jsx("option",{value:"Voluntary Resignation",children:"Voluntary Resignation"}),e.jsx("option",{value:"Contract Completion",children:"Contract Completion"}),e.jsx("option",{value:"Performance Issues",children:"Performance Issues"}),e.jsx("option",{value:"Code of Conduct Violation",children:"Code of Conduct Violation"}),e.jsx("option",{value:"Layoff",children:"Layoff"}),e.jsx("option",{value:"Retirement",children:"Retirement"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Termination Date"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:b.from,onChange:a=>_({...b,from:a.target.value}),placeholder:"From"})}),e.jsx("div",{children:e.jsx("input",{type:"date",className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:b.to,onChange:a=>_({...b,to:a.target.value}),placeholder:"To"})})]})]})]})}),e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-8 bg-gray-50 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:[e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Actions"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Status"}),e.jsx("div",{className:"px-6 py-3 col-span-2",children:"Employee"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Type"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Notice Date"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Termination Date"}),e.jsx("div",{className:"px-6 py-3 col-span-1",children:"Reason"})]}),x&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:"Loading..."}),!x&&f.length===0&&e.jsx("div",{className:"py-16 text-center text-gray-500",children:k||c!=="all"||N!=="all"||b.from||b.to?"No terminations found matching your filters.":"No termination requests found. Create a new termination request to get started."}),!x&&f.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:f.map(a=>{var u,n,p;return e.jsxs("div",{className:"grid grid-cols-8 items-center hover:bg-gray-50",children:[e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>re(a),className:"text-gray-400 hover:text-gray-500",title:"View",type:"button",children:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),a.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>ae(a),className:"text-gray-400 hover:text-gray-500",title:"Edit",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>le(a),className:"text-gray-400 hover:text-gray-500",title:"Review",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("button",{onClick:()=>de(a),className:"text-gray-400 hover:text-red-500",title:"Delete",type:"button",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap",children:e.jsx(Y,{status:a.status})}),e.jsxs("div",{className:"px-6 py-4 col-span-2 whitespace-nowrap",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[(u=a.employee)==null?void 0:u.Lname,", ",(n=a.employee)==null?void 0:n.Fname]}),e.jsx("div",{className:"text-sm text-gray-500",children:(p=a.employee)==null?void 0:p.idno})]}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:a.termination_type}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:new Date(a.notice_date).toLocaleDateString()}),e.jsx("div",{className:"px-6 py-4 col-span-1 whitespace-nowrap text-sm text-gray-500",children:new Date(a.termination_date).toLocaleDateString()}),e.jsx("div",{className:"px-6 py-4 col-span-1 text-sm text-gray-500 truncate",children:a.reason})]},a.id)})})]})]})})]}),e.jsx(U,{isOpen:w,onClose:()=>L(!1),title:"Create New Termination",termination:t,employees:s,onChange:d,onSubmit:oe,mode:"create",errorMessages:g}),e.jsx(U,{isOpen:F,onClose:()=>E(!1),title:"Edit Termination",termination:t,employees:s,onChange:d,onSubmit:ne,mode:"edit",errorMessages:g}),e.jsx(U,{isOpen:B,onClose:()=>J(!1),title:"View Termination Details",termination:t,employees:s,onChange:d,onSubmit:()=>{},mode:"view",errorMessages:{}}),e.jsx(ve,{isOpen:Z,onClose:()=>W(!1),termination:t,onSubmit:ie}),e.jsx(he,{isOpen:S.isOpen,onClose:()=>P({...S,isOpen:!1}),title:S.title,message:S.message,confirmText:S.confirmText,confirmVariant:S.confirmVariant,onConfirm:S.onConfirm})]})};export{Ge as default};
